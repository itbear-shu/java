# day_1

## 1-1 å¸¸ç”¨doså‘½ä»¤

+ **dir**:åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶åŠæ–‡ä»¶å¤¹
+ **md**:åˆ›å»ºç›®å½•
+ **rd**:åˆ é™¤ç›®å½•
+ **cd**:è¿›å…¥æŒ‡å®šç›®å½•
+ **cd**..:è¿”å›ä¸Šä¸€çº§ç›®å½•
+ **cd\\**:è¿”å›æ ¹ç›®å½•
+ **del**:åˆ é™¤æ–‡ä»¶
+ **exit**:é€€å‡º

## 1-2 Java ä¸¤ç§æ ¸å¿ƒæœºåˆ¶

Javaç¨‹åºå¹¶éæ˜¯ç›´æ¥è¿è¡Œçš„ï¼ŒJavaç¼–è¯‘å™¨å°†**Javaæºç¨‹åºç¼–è¯‘æˆä¸å¹³å°æ— å…³çš„å­—èŠ‚ç æ–‡ä»¶(classæ–‡ä»¶)**ï¼Œç„¶åç”±**Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰å¯¹å­—èŠ‚ç æ–‡ä»¶è§£é‡Šæ‰§è¡Œ**ã€‚æ‰€ä»¥åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸‹ï¼Œåªéœ€å®‰è£…ä¸åŒçš„Javaè™šæ‹Ÿæœºå³å¯å®ç°javaç¨‹åºçš„è·¨å¹³å°ã€‚

+ Javaè™šæ‹Ÿæœºï¼Œ`JVMï¼ˆJava Virtual Machineï¼‰`
+ åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œ`GC`

è¯­è¨€ç‰¹ç‚¹ï¼š

+ è·¨å¹³å°æ€§

## 1-3 JDK,JRE,JVM

+ `JDK`æ˜¯åŒ…å«äº†javaå¼€å‘çš„å·¥å…·åŒ…ã€‚
+ `JRE`Java Runtime Environmentï¼‰ï¼ŒJavaè¿è¡Œç¯å¢ƒï¼ŒåŒ…å«äº†JVMå’ŒJavaçš„æ ¸å¿ƒç±»åº“ï¼ˆJava APIï¼‰
+ JDKåŒ…å«JREåŒ…å«`JVM`

## 1-4 è®¡ç®—æœºå­˜å‚¨å•å…ƒ

æˆ‘ä»¬çŸ¥é“è®¡ç®—æœºæ˜¯å¯ä»¥ç”¨æ¥å­˜å‚¨æ•°æ®çš„ï¼Œä½†æ˜¯æ— è®ºæ˜¯å†…å­˜è¿˜æ˜¯ç¡¬ç›˜ï¼Œè®¡ç®—æœºå­˜å‚¨è®¾å¤‡çš„æœ€å°ä¿¡æ¯å•å…ƒå«â€œ**ä½ï¼ˆbitï¼‰**â€ï¼Œæˆ‘ä»¬åˆç§°ä¹‹ä¸ºâ€œæ¯”ç‰¹ä½â€ï¼Œé€šå¸¸ç”¨å°å†™çš„å­—æ¯â€bâ€è¡¨ç¤ºã€‚è€Œè®¡ç®—æœºä¸­**æœ€åŸºæœ¬çš„å­˜å‚¨å•å…ƒå«â€œå­—èŠ‚ï¼ˆbyteï¼‰â€**ï¼Œé€šå¸¸ç”¨å¤§å†™å­—æ¯â€Bâ€è¡¨ç¤ºï¼Œ**å­—èŠ‚æ˜¯ç”±è¿ç»­çš„8ä¸ªä½ç»„æˆã€‚**
é™¤äº†å­—èŠ‚å¤–è¿˜æœ‰ä¸€äº›å¸¸ç”¨çš„å­˜å‚¨å•ä½ï¼Œå…¶æ¢ç®—å•ä½å¦‚ä¸‹ï¼š
**1Bï¼ˆå­—èŠ‚ï¼‰ = 8bit**
1KB = 1024B
1MB = 1024KB
1GB = 1024MB
1TB = 1024GB

# day_2

+ å…³é”®å­—:ä¸“é—¨ç”¨é€”ï¼Œå‹¿ä½œä»–ç”¨

+ ä¿ç•™å­—:å¯èƒ½åœ¨javaä»¥åç‰ˆæœ¬ä½œä¸ºå…³é”®å­—ä½¿ç”¨çš„å•è¯

## 2-1 æ•°æ®ç±»å‹

+ åŸºæœ¬æ•°æ®ç±»å‹

  + æ•°å€¼å‹
    - [x] æ•´æ•°ç±»å‹:`int`ï¼ˆ4å­—èŠ‚ï¼‰,`short`ï¼ˆ2å­—èŠ‚ï¼‰,`long`ï¼ˆ8å­—èŠ‚ï¼‰,`byte`ï¼ˆ1å­—èŠ‚=8bitï¼‰
    - [x] æµ®ç‚¹æ•°ç±»å‹:`float`,`double`

  + å­—ç¬¦å‹:`char`
  + å¸ƒå°”å‹:`boolen`

+ å¼•ç”¨æ•°æ®ç±»å‹(å¯ä»¥åœ¨åˆå§‹åŒ–çš„æ—¶å€™èµ‹å€¼ä¸º`null`)

  + ç±»:`class`(`string` åœ¨é‡Œé¢)

    + `String`:ä¸å¯å˜ç±»ï¼Œåˆ›å»ºçš„å¯¹è±¡ä¸å¯æ›´æ”¹ã€‚

      ```java
      String s0 = "hello";
      String s1 = "hello";
      String s2 = "he" + "ll" + "o";
      //å†…å­˜ä¸­åªæœ‰ä¸€ä¸ª"hello"
      ```

  + æ¥å£:`interface`

  + æ•°ç»„:[]

+ `long`ç±»å‹èµ‹å€¼æ—¶éœ€+L: 

  ```java
  long l  = 3L;
  ```

+ å®šä¹‰æµ®ç‚¹å‹æ—¶é»˜è®¤ä¸º`double`,è€Œéœ€å®šä¹‰`float`ç±»å‹æ—¶éœ€+f\F:

  ```java
  float f = 3.0f;
  ```

+ åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢

  + è‡ªåŠ¨è½¬æ¢:`char`,`byte`,`short`--->`int`--->`long`--->`float`--->`double`ã€‚
  + `char`,`byte`,`short`ä¸ä¼šç›¸äº’è½¬æ¢ï¼Œéƒ½è½¬æ¢ä¸º**int**ç±»å‹å†è®¡ç®—ã€‚
+ æœ‰å¤šç§æ•°æ®æ··åˆè¿ç®—æ—¶ï¼Œç³»ç»Ÿå…ˆè½¬æ¢ä¸º**å®¹é‡è¾ƒå¤§**çš„ç±»å‹ã€‚
  + å¤šä¸ªç›¸åŒç±»å‹å˜é‡è®¡ç®—æ—¶ï¼Œç³»ç»Ÿå…ˆè½¬æ¢ä¸ºå¯¹åº”çš„**é»˜è®¤ç±»å‹**ã€‚
+ **boolean**ç±»å‹ä¸èƒ½ä¸å…¶ä»–åŸºæœ¬æ•°æ®ç±»å‹ç›¸äº’è½¬æ¢ã€‚

## 2-2 æ ‡è¯†ç¬¦ï¼ˆè®°å¿†ã€ç†è§£ï¼‰

æ ‡è¯†ç¬¦æ˜¯ç”¨æˆ·ç¼–ç¨‹æ—¶ä½¿ç”¨çš„åå­—ï¼Œç”¨äºç»™ç±»ã€æ–¹æ³•ã€å˜é‡ã€å¸¸é‡ç­‰å‘½åã€‚
Javaä¸­æ ‡è¯†ç¬¦çš„ç»„æˆè§„åˆ™ï¼š
ç”±**å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿â€œ_â€ã€ç¾å…ƒç¬¦å·â€œ$â€**ç»„æˆï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ä¸èƒ½æ˜¯æ•°å­—ã€‚
ä¸èƒ½ä½¿ç”¨javaä¸­çš„å…³é”®å­—ä½œä¸ºæ ‡è¯†ç¬¦ã€‚
æ ‡è¯†ç¬¦å¯¹å¤§å°å†™æ•æ„Ÿï¼ˆ**åŒºåˆ†å¤§å°å†™**ï¼‰ã€‚
Javaä¸­æ ‡è¯†ç¬¦çš„å‘½åçº¦å®šï¼š
**å°é©¼å³°å¼**å‘½åï¼šå˜é‡åã€æ–¹æ³•åï¼›
é¦–å­—æ¯å°å†™ï¼Œä»ç¬¬äºŒä¸ªå•è¯å¼€å§‹æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ã€‚
**å¤§é©¼å³°å¼**å‘½åï¼šç±»åï¼›
æ¯ä¸ªå•è¯çš„é¦–å­—æ¯éƒ½å¤§å†™ã€‚

# day_3

## 3-1 æ•°æ®è¾“å…¥ï¼ˆåº”ç”¨ï¼‰

æˆ‘ä»¬å¯ä»¥é€šè¿‡ Scanner ç±»æ¥è·å–ç”¨æˆ·çš„è¾“å…¥ã€‚ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š
1ã€å¯¼åŒ…ã€‚Scanner ç±»åœ¨java.utilåŒ…ä¸‹ï¼Œæ‰€ä»¥éœ€è¦å°†è¯¥ç±»å¯¼å…¥ã€‚å¯¼åŒ…çš„è¯­å¥éœ€è¦å®šä¹‰åœ¨ç±»çš„ä¸Šé¢ã€‚

```JAVA
import java.util.scanner;
```

2ã€åˆ›å»ºScannerå¯¹è±¡ã€‚

```java
Scanner sc = new Scanner(System.in);
```

3ã€æ¥æ”¶æ•°æ®

```
int i = sc.nextInt();
```

## 3-2 Randomäº§ç”Ÿéšæœºæ•°ï¼ˆæŒæ¡ï¼‰

**æ¦‚è¿°**ï¼š
`Random`ç±»ä¼¼`Scanner`ï¼Œä¹Ÿæ˜¯Javaæä¾›å¥½çš„APIï¼Œå†…éƒ¨æä¾›äº†äº§ç”Ÿéšæœºæ•°çš„åŠŸèƒ½
APIåç»­è¯¾ç¨‹è¯¦ç»†è®²è§£ï¼Œç°åœ¨å¯ä»¥ç®€å•ç†è§£ä¸ºJavaå·²ç»å†™å¥½çš„ä»£ç 
ä½¿ç”¨æ­¥éª¤ï¼š

1. å¯¼å…¥åŒ…

  ```java
  import java.util.Random;
  ```

2. åˆ›å»ºå¯¹è±¡

  ```java
  Random r = new Random();
  ```

3. äº§ç”Ÿéšæœºæ•°

  ```java
  int num = r.nextInt(10);
  ```

  è§£é‡Šï¼š 10ä»£è¡¨çš„æ˜¯ä¸€ä¸ªèŒƒå›´ï¼Œå¦‚æœæ‹¬å·å†™10ï¼Œäº§ç”Ÿçš„éšæœºæ•°å°±æ˜¯0-9ï¼Œæ‹¬å·å†™20ï¼Œå‚æ•°çš„éšæœºæ•°åˆ™æ˜¯0-19ã€‚

## 3-3 Stringç±»

### 3-3-1 Stringç±»æ¦‚è¿°ã€ç†è§£ã€‘

String ç±»ä»£è¡¨å­—ç¬¦ä¸²ï¼ŒJava ç¨‹åºä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²æ–‡å­—ï¼ˆä¾‹å¦‚â€œabcâ€ï¼‰éƒ½è¢«å®ç°ä¸ºæ­¤ç±»çš„å®ä¾‹ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼ŒJava ç¨‹åºä¸­æ‰€æœ‰çš„åŒå¼•å·å­—ç¬¦ä¸²ï¼Œéƒ½æ˜¯ String ç±»çš„å¯¹è±¡ã€‚String ç±»åœ¨ **java.lang** åŒ…ä¸‹ï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™ä¸éœ€è¦å¯¼åŒ…ï¼

### 3-3-2 Stringç±»çš„ç‰¹ç‚¹ã€ç†è§£ã€‘

+ å­—ç¬¦ä¸²ä¸å¯å˜ï¼Œå®ƒä»¬çš„å€¼åœ¨åˆ›å»ºåä¸èƒ½è¢«æ›´æ”¹ã€‚
+ è™½ç„¶ String çš„å€¼æ˜¯ä¸å¯å˜çš„ï¼Œä½†æ˜¯å®ƒä»¬å¯ä»¥è¢«å…±äº«ã€‚
+ å­—ç¬¦ä¸²æ•ˆæœä¸Šç›¸å½“äºå­—ç¬¦æ•°ç»„( char[] )ï¼Œä½†æ˜¯åº•å±‚åŸç†æ˜¯å­—èŠ‚æ•°ç»„( byte[] )ã€‚

### 3-3-3 åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡ä¸¤ç§æ–¹å¼çš„åŒºåˆ«ã€ç†è§£ã€‘

+ **é€šè¿‡æ„é€ **æ–¹æ³•åˆ›å»ºï¼š
  é€šè¿‡ new åˆ›å»ºçš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œæ¯ä¸€æ¬¡ new éƒ½ä¼šç”³è¯·ä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œè™½ç„¶å†…å®¹ç›¸åŒï¼Œä½†æ˜¯**åœ°å€å€¼ä¸åŒ**ã€‚
+ **ç›´æ¥èµ‹å€¼**æ–¹å¼åˆ›å»ºï¼š
  ä»¥*â€œabcâ€*æ–¹å¼ç»™å‡ºçš„å­—ç¬¦ä¸²ï¼Œåªè¦å­—ç¬¦åºåˆ—ç›¸åŒ(é¡ºåºå’Œå¤§å°å†™)ï¼Œæ— è®ºåœ¨ç¨‹åºä»£ç ä¸­å‡ºç°å‡ æ¬¡ï¼ŒJVM éƒ½**åªä¼šå»ºç«‹ä¸€ä¸ª String å¯¹è±¡**ï¼Œå¹¶åœ¨**å­—ç¬¦ä¸²å¸¸é‡æ± **ä¸­ç»´æŠ¤ã€‚

```java
//ä¸‰ç§åˆ›å»ºæ–¹å¼
String s1 = new String();
char[] arr = {'a', 'v', 'c'};
String s2 = new String(arr);
byte[] brr = {97, 98, 99};
String s3 = new String(brr);
```



### 3-3-4 Stringç±»çš„æ–¹æ³•

+ `public boolean equals(Object object)` æ¯”è¾ƒå­—ç¬¦ä¸²çš„å†…å®¹ï¼Œä¸¥æ ¼åŒºåˆ†å¤§å°å†™(ç”¨æˆ·åå’Œå¯†ç )ã€‚å­—ç¬¦ä¸²æ¯”è¾ƒä½¿ç”¨`equals()`æ–¹æ³•ã€‚
+ `public char charAt(int index)` è¿”å›æŒ‡å®šç´¢å¼•å¤„çš„ char å€¼
+ `public int length()` è¿”å›æ­¤å­—ç¬¦ä¸²çš„é•¿åº¦
+ `public String substring(int index)`**æˆªå–**ä»å‚æ•°ä½ç½®åˆ°å­—ç¬¦ä¸²æœ«å°¾ï¼Œè¿”å›æ–°å­—ç¬¦ä¸²ï¼ŒåŸå­—ç¬¦ä¸²ä¸å˜
+ `public String substring(int begin, int end)`æˆªå–ä»beginå¼€å§‹åˆ°endç»“æŸçš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼ŒåŸå­—ç¬¦ä¸²ä¸å˜     æ³¨æ„ï¼š**[begin, end)**åŒ…å«å·¦è¾¹ä¸åŒ…å«å³è¾¹ã€‚
+ `public char[] toCharArray()`å°†å½“å‰å­—ç¬¦ä¸²æ‹†åˆ†æˆ**å­—ç¬¦æ•°ç»„**ä½œä¸ºè¿”å›å€¼
+ `public byte[] getBytes()`è·å¾—å½“å‰å­—ç¬¦ä¸²åº•å±‚çš„å­—èŠ‚æ•°ç»„
+ `pubic String replace(CharSequence target, CharSequence replacement)`å°†å­—ç¬¦ä¸²çš„éƒ¨åˆ†å­—ç¬¦ä¸²æ›¿æ¢æˆæ–°çš„å­—ç¬¦ä¸²å¹¶è¿”å›æ”¹å˜åçš„å­—ç¬¦ä¸²ï¼ŒåŸå­—ç¬¦ä¸²ä¸å˜
+ `public String[] split(String regex)`æŒ‰regexè§„åˆ™å°†å­—ç¬¦ä¸²åˆ‡åˆ†æˆè‹¥å¹²éƒ¨åˆ†
+ `public String[] split(String regex, int limit)`æŒ‰regexè§„åˆ™å°†å­—ç¬¦ä¸²åˆ‡åˆ†æˆlimitä¸ªéƒ¨åˆ†

## 3-4 StringBuilderç±»

StringBuilder æ˜¯ä¸€ä¸ªå¯å˜çš„å­—ç¬¦ä¸²ç±»ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒçœ‹æˆæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œè¿™é‡Œçš„å¯å˜æŒ‡çš„æ˜¯ StringBuilder å¯¹è±¡ä¸­çš„å†…å®¹æ˜¯**å¯å˜**çš„ã€‚è€ŒStringç±»çš„å†…å®¹æ˜¯**ä¸å¯å˜**çš„ã€‚

<u>ï¼Ÿï¼Ÿï¼Ÿ</u>

### 3-4-1 StringBuilderçš„æ–¹æ³•

+ `public StringBuilder()` ï¼šåˆ›å»ºä¸€ä¸ªç©ºç™½å¯å˜å­—ç¬¦ä¸²å¯¹è±¡ï¼Œä¸å«æœ‰ä»»ä½•å†…å®¹ã€‚
+ `public StringBuilder(String str)` ï¼šæ ¹æ®å­—ç¬¦ä¸²çš„å†…å®¹ï¼Œæ¥åˆ›å»ºå¯å˜å­—ç¬¦ä¸²å¯¹è±¡ã€‚
+ `public StringBuilder append(ä»»æ„ç±»å‹)`ï¼š æ·»åŠ æ•°æ®ï¼Œå¹¶è¿”å›å¯¹è±¡æœ¬èº«ã€‚
+ `public StringBuilder reverse()` ï¼šè¿”å›ç›¸åçš„å­—ç¬¦åºåˆ—ã€‚

### 3-4-2 StringBuilderå’ŒStringçš„è½¬æ¢

+ StringBuilderè½¬æ¢ä¸ºStringï¼š
  `public String toString()`ï¼šé€šè¿‡ toString() å°±å¯ä»¥å®ç°æŠŠ StringBuilder è½¬æ¢ä¸º Stringã€‚
+ Stringè½¬æ¢ä¸ºStringBuilderï¼š
  `public StringBuilder(String s)`ï¼šé€šè¿‡æ„é€ æ–¹æ³•å°±å¯ä»¥å®ç°æŠŠ String è½¬æ¢ä¸º StringBuilderã€‚

# day_4

## 4-1 ä¸€ç»´æ•°ç»„åˆå§‹åŒ–

+ **åŠ¨æ€åˆå§‹åŒ–**:å…ˆå£°æ˜ï¼Œåèµ‹å€¼

  ```java
  int[] arr = new int[4];
  arr[0] = 1;
  arr[1] = 2;
  ```

+ é™æ€åˆå§‹åŒ–:å£°æ˜æ—¶å˜èµ‹å€¼

  ```java
  int[] arr = new int[]{1, 2, 3};
  int[] arr = {1,2,3};
  ```

+ æ¯ä¸ªæ•°ç»„éƒ½æœ‰ä¸€ä¸ªå±æ€§:straight_ruler:length

+ é»˜è®¤åˆå§‹åŒ–

  ```java
  int[] arr = new int[4];
  //é»˜è®¤å€¼éƒ½ä¸º0
  ```

## 4-2 äºŒç»´æ•°ç»„

+ åˆå§‹åŒ–

  ```java
  int[][] arr1 = new int[][]{
      {1,2}, 
      {3,5}
  };
  
  int[][] arr2 = new int[2][3];
  
  int[][] arr3 = new int[2][];//äºŒç»´ä¸å®šä¹‰
  
  int[] arr4[] = new int[1][2];
  ```

+ éå†äºŒç»´æ•°ç»„

  ```java
  for (int i = 0; i < arr.length; i++) {        
      for (int j = 0; j < arr[i].length; j++) { 
          System.out.println(arr[i][j]);        
      }                                              
  }                                                  
  ```


## 4-3 å†…å­˜åˆ†é…

### 4-3-1 å†…å­˜æ¦‚è¿°

å†…å­˜æ˜¯è®¡ç®—æœºä¸­çš„é‡è¦åŸä»¶ï¼Œä¸´æ—¶å­˜å‚¨åŒºåŸŸï¼Œä½œç”¨æ˜¯è¿è¡Œç¨‹åºã€‚æˆ‘ä»¬ç¼–å†™çš„ç¨‹åºæ˜¯å­˜æ”¾åœ¨ç¡¬ç›˜ä¸­çš„ï¼Œåœ¨ç¡¬ç›˜ä¸­çš„ç¨‹åºæ˜¯ä¸ä¼šè¿è¡Œçš„ã€‚**å¿…é¡»æ”¾è¿›å†…å­˜ä¸­æ‰èƒ½è¿è¡Œ**ï¼Œè¿è¡Œå®Œæ¯•åä¼šæ¸…ç©ºå†…å­˜ã€‚**Javaè™šæ‹Ÿæœºè¦è¿è¡Œç¨‹åºï¼Œå¿…é¡»è¦å¯¹å†…å­˜è¿›è¡Œç©ºé—´çš„åˆ†é…å’Œç®¡ç†ã€‚**

### 4-3-2 javaä¸­çš„å†…å­˜åˆ†é…

ç›®å‰æˆ‘ä»¬åªéœ€è¦è®°ä½ä¸¤ä¸ªå†…å­˜ï¼Œåˆ†åˆ«æ˜¯ï¼š**æ ˆå†…å­˜å’Œå †å†…å­˜**.

| åŒºåŸŸåç§°   | ä½œç”¨                                                       |
| ---------- | ---------------------------------------------------------- |
| å¯„å­˜å™¨     | ç»™CPUä½¿ç”¨ï¼Œå’Œæˆ‘ä»¬å¼€å‘**æ— å…³**ã€‚                            |
| æœ¬åœ°æ–¹æ³•æ ˆ | JVMåœ¨ä½¿ç”¨æ“ä½œç³»ç»ŸåŠŸèƒ½çš„æ—¶å€™ä½¿ç”¨ï¼Œå’Œæˆ‘ä»¬å¼€å‘**æ— å…³**ã€‚      |
| æ–¹æ³•åŒº     | å­˜å‚¨å¯ä»¥è¿è¡Œçš„classæ–‡ä»¶ã€‚                                  |
| å †å†…å­˜     | å­˜å‚¨å¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œnewæ¥åˆ›å»ºçš„ï¼Œéƒ½å­˜å‚¨åœ¨å †å†…å­˜ã€‚            |
| æ–¹æ³•æ ˆ     | æ–¹æ³•è¿è¡Œæ—¶ä½¿ç”¨çš„å†…å­˜ï¼Œæ¯”å¦‚mainæ–¹æ³•è¿è¡Œï¼Œè¿›å…¥æ–¹æ³•æ ˆä¸­æ‰§è¡Œã€‚ |

**æ€»ç»“**ï¼šæ¯ä¸ªæ–¹æ³•åœ¨è¢«è°ƒç”¨æ‰§è¡Œçš„æ—¶å€™ï¼Œéƒ½ä¼šè¿›å…¥æ ˆå†…å­˜ï¼Œå¹¶ä¸”æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œæ–¹æ³•å†…éƒ¨ä»£ç è°ƒç”¨å®Œæ¯•ä¹‹åï¼Œä¼šä»æ ˆå†…å­˜ä¸­å¼¹æ ˆæ¶ˆå¤±ã€‚

# day_5

## 5-1 é¢å‘å¯¹è±¡

+ **ä¸‰å¤§ç‰¹æ€§**ï¼š
  + *å°è£…*
  + *ç»§æ‰¿*
  + *å¤šæ€*

## 5-2 classç±»

> ç±»æ˜¯å¯¹è±¡çš„æ•°æ®ç±»å‹ï¼Œç±»æ˜¯å…·æœ‰ç›¸åŒå±æ€§å’Œè¡Œä¸ºçš„ä¸€ç»„å¯¹è±¡çš„é›†åˆã€‚
>
> ç±»ï¼šç±»æ˜¯å¯¹ç°å®ç”Ÿæ´»ä¸­ä¸€ç±»å…·æœ‰å…±åŒå±æ€§å’Œè¡Œä¸ºçš„äº‹ç‰©çš„æŠ½è±¡ã€‚
> å¯¹è±¡ï¼šæ˜¯èƒ½å¤Ÿçœ‹å¾—åˆ°æ‘¸çš„ç€çš„çœŸå®å­˜åœ¨çš„å®ä½“ã€‚
> ç®€å•ç†è§£ï¼š**ç±»æ˜¯å¯¹äº‹ç‰©çš„ä¸€ç§æè¿°ï¼Œå¯¹è±¡åˆ™ä¸ºå…·ä½“å­˜åœ¨çš„äº‹ç‰©ã€‚**

+ å±æ€§ï¼šæŒ‡äº‹ç‰©çš„ç‰¹å¾ï¼Œä¾‹å¦‚ï¼šæ‰‹æœºäº‹ç‰©ï¼ˆå“ç‰Œï¼Œä»·æ ¼ï¼Œå°ºå¯¸ï¼‰
  è¡Œ
+ æ–¹æ³•ï¼šæŒ‡äº‹ç‰©èƒ½æ‰§è¡Œçš„æ“ä½œï¼Œä¾‹å¦‚ï¼šæ‰‹æœºäº‹ç‰©ï¼ˆæ‰“ç”µè¯ï¼Œå‘çŸ­ä¿¡ï¼‰

```java
public class Person {
    //å±æ€§,æˆå‘˜å˜é‡ï¼Œç±»çš„æˆå‘˜å˜é‡å¯ä»¥å…ˆå£°æ˜ï¼Œä¸ç”¨åˆå§‹åŒ–ï¼Œä¸”æœ‰é»˜è®¤å€¼
    private String name;//å§“åï¼ŒStringé»˜è®¤å€¼ä½null
    private int age;//å¹´é¾„ï¼Œintçš„é»˜è®¤å€¼ä½0
    
    //æ–¹æ³•
    /*
    * æ‰“å°å§“å*/
    public void showName() {
        System.out.println(name);
    }
    /*
    *è·å–å¹´é¾„
    */
    public int getAge() {
        return age;
    }
}
```

### 5-2-1 å®ä¾‹åŒ–ç±»ï¼ˆåˆ›å»ºå¯¹è±¡ï¼‰

```java
Person p = new Person();//å£°æ˜ä¸€ä¸ªPersonç±»å‹å˜é‡
/*
å¯ä»¥ç»™å±æ€§èµ‹å€¼ï¼Œå¹¶è°ƒç”¨æ–¹æ³•
*/
```

###  5-2-2 å±æ€§

+ è¯­æ³•æ ¼å¼:

  ```
  //ä¿®é¥°ç¬¦ ç±»å‹ å±æ€§å (= åˆå€¼);
  ```

  + ä¿®é¥°ç¬¦
    + `private`: è¯¥å±æ€§åªèƒ½ç”±ç±»å†…éƒ¨è®¿é—®
    + `public`:å†…å¤–å‡å¯è®¿é—®
    + `default`:ç±»å†…éƒ¨ï¼ŒåŒ…å†…éƒ¨è®¿é—®
    + `protected`:ç±»å†…éƒ¨ï¼ŒåŒ…å†…éƒ¨ï¼Œå­ç±»å¯ä»¥è®¿é—®
  + ç±»å‹ï¼šåŸºæœ¬æ•°æ®ç±»å‹

+ å˜é‡

  + æˆå‘˜å˜é‡

    + å®ä¾‹å˜é‡ï¼šåªæœ‰å°†ç±»å®ä¾‹åŒ–æˆå¯¹è±¡ä¹‹åæ‰èƒ½ä½¿ç”¨

      ```java
      private String name;//å§“åï¼ŒStringé»˜è®¤å€¼ä½null
      private int age;//å¹´é¾„ï¼Œintçš„é»˜è®¤å€¼ä½0
      ```

    + ç±»å˜é‡ï¼šstaticä¿®é¥°ï¼Œä¸éœ€è¦ç±»å®ä¾‹åŒ–æˆå¯¹è±¡å°±å¯ä½¿ç”¨ï¼Œç›´æ¥é€šè¿‡ç±»åè°ƒç”¨

      ```java
      public static String gender = "male";
      ```

  + å±€éƒ¨å˜é‡

### 5-2-3 æ–¹æ³•

+ è¯­æ³•æ ¼å¼

  ```
  //ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•å (å‚æ•°s) {
  	æ–¹æ³•ä½“;
  }
  ```

  + ä¿®é¥°ç¬¦
    + `public`
    + `private`
    + `protected`
    + `default`
  + è¿”å›å€¼ç±»å‹:returnï¼›void

> æ³¨ï¼šæ–¹æ³•ä¸­ä¸èƒ½å†å®šä¹‰æ–¹æ³•ï¼ˆç¦æ­¢å¥—å¨ƒï¼‰

## 5-3 å…³äºå¯¹è±¡

### 5-3-1 åŒ¿åå¯¹è±¡

+ ä¸å®šä¹‰å¯¹è±¡çš„å¥æŸ„ï¼Œç›´æ¥è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•

```java
new Person().shout();
```

+ ä½¿ç”¨æƒ…å†µ
  + é€‚ç”¨äºåªè°ƒç”¨ä¸€æ¬¡æ–¹æ³•
    + å°†åŒ¿åå¯¹è±¡ä½œä¸ºå®å‚ä¼ é€’ç»™ä¸€ä¸ªæ–¹æ³•è°ƒç”¨

> æç¤ºï¼š
>
> 1.åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œç±»çš„æ–¹æ³•å¯ä»¥ç›´æ¥è®¿é—®ç±»ä¸­çš„æˆå‘˜å˜é‡ã€‚ï¼ˆä¾‹å¤–ï¼Œstaticæ–¹æ³•ä¸­è®¿é—®éstaticï¼Œç¼–è¯‘ä¸é€šè¿‡ï¼‰
>
> 2.åœ¨ä¸åŒç±»ä¸­ï¼Œè¦å…ˆåˆ›å»ºè¦è®¿é—®çš„ç±»çš„å¯¹è±¡ï¼Œå†ç”¨å¯¹è±¡è®¿é—®ç±»ä¸­å®šä¹‰çš„æˆå‘˜ã€‚

### 5-3-2 å¤šä¸ªå¯¹è±¡æŒ‡å‘ç›¸åŒå†…å­˜

å½“å¤šä¸ªå¯¹è±¡çš„å¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªå†…å­˜ç©ºé—´ï¼ˆå˜é‡æ‰€è®°å½•çš„åœ°å€å€¼æ˜¯ä¸€æ ·çš„ï¼‰ï¼Œ
åªè¦æœ‰ä»»ä½•ä¸€ä¸ªå¯¹è±¡ä¿®æ”¹äº†å†…å­˜ä¸­çš„æ•°æ®ï¼Œéšåï¼Œæ— è®ºä½¿ç”¨å“ªä¸€ä¸ªå¯¹è±¡è¿›è¡Œæ•°æ®è·å–ï¼Œéƒ½æ˜¯ä¿®æ”¹åçš„æ•°æ®ã€‚

## 5-4 æ–¹æ³•é‡è½½

+ æ¦‚å¿µï¼šåœ¨ä¸€ä¸ªç±»ä¸­ï¼Œå‡ºç°åŒåæ–¹æ³•ï¼Œæ–¹æ³•ä¸­çš„å‚æ•°ä¸ªæ•°æˆ–ç±»å‹ä¸åŒã€‚
+ ç‰¹ç‚¹ï¼šä¸è¿”å›å€¼ç±»å‹æ— å…³ï¼Œåªçœ‹***å‚æ•°åˆ—è¡¨***ï¼Œä¸”å‚æ•°åˆ—è¡¨***å¿…é¡»ä¸åŒ***ã€‚

```java
public int add(int x, int y) {
    return x + y;
}
//å‚æ•°ä¸ªæ•°ä¸åŒ    
public int add(int x, int y, int z) {
    return x + y + z;
}
```

```java
public int add(int x, int y) {
    return x + y;
}
//å‚æ•°ç±»å‹ä¸åŒ    
public int add(int x, double y) {
    return x + y
}
```

```java
public double add(double x, int y) {
    return x + y;
}
//é¡ºåºä¸åŒ     
public double add(int y, double x) {
    return x + y
}
```

## 5-5 æˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡

+ ç±»ä¸­ä½ç½®ä¸åŒï¼šæˆå‘˜å˜é‡ï¼ˆ**ç±»ä¸­æ–¹æ³•å¤–**ï¼‰||  å±€éƒ¨å˜é‡ï¼ˆ**æ–¹æ³•å†…éƒ¨æˆ–æ–¹æ³•å£°æ˜ä¸Š**ï¼‰ã€‚
+ å†…å­˜ä¸­ä½ç½®ä¸åŒï¼šæˆå‘˜å˜é‡ï¼ˆ**å †å†…å­˜**ï¼‰||  å±€éƒ¨å˜é‡ï¼ˆ**æ ˆå†…å­˜**ï¼‰ã€‚
+ ç”Ÿå‘½å‘¨æœŸä¸åŒï¼šæˆå‘˜å˜é‡ï¼ˆéšç€å¯¹è±¡çš„å­˜åœ¨è€Œå­˜åœ¨ï¼Œéšç€å¯¹è±¡çš„æ¶ˆå¤±è€Œæ¶ˆå¤±ï¼‰||  å±€éƒ¨å˜é‡ï¼ˆéšç€æ–¹æ³•çš„è°ƒç”¨è€Œå­˜åœ¨ï¼Œéšç€æ–¹æ³•çš„è°ƒç”¨å®Œæ¯•è€Œæ¶ˆå¤±ï¼‰ã€‚
+ åˆå§‹åŒ–å€¼ä¸åŒï¼šæˆå‘˜å˜é‡ï¼ˆæœ‰é»˜è®¤åˆå§‹åŒ–å€¼ï¼‰||  å±€éƒ¨å˜é‡ï¼ˆæ²¡æœ‰é»˜è®¤åˆå§‹åŒ–å€¼ï¼Œå¿…é¡»å…ˆå®šä¹‰ï¼Œèµ‹å€¼æ‰èƒ½ä½¿ç”¨ï¼‰ã€‚

# day_6

## 6-1 å¯å˜å‚æ•°

JDK1.5åå‡ºç°çš„æ–°ç‰¹æ€§ï¼Œåœ¨å®šä¹‰æ–¹æ³•æ—¶ä½¿ç”¨ã€‚

åº•å±‚ç”±æ•°ç»„å®ç°ï¼Œä¼ é€’å‚æ•°ä¸ªæ•°ä»»æ„ã€‚

```java
//ç”¨æ•°ç»„æ–¹å¼
//å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œè°ƒç”¨æ—¶å°±è¦å®šä¹‰ä¸€ä¸ªç©ºæ•°ç»„æˆ–è€…null
public void printInfo(String[] args) {
    for(int i = 0;i < args.length;i++) {
        System.out.println(args[i]);
    }
}
//ç”¨javaç‰¹æœ‰çš„...æ–¹å¼ï¼Œä¸String[] argsç›¸åŒç”¨æ³•
//å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œè°ƒç”¨æ—¶å¯ä»¥ä¸å¡«
//æ–¹æ³•æœ‰å¤šä¸ªå½¢å‚ï¼Œå¯å˜å½¢å‚(...)æ”¾åœ¨æ‰€æœ‰å‚æ•°ä¹‹å
public void printInfo1(int x, String... args) (å¯¹)
public void printInfo1(String... args, int x) (é”™)
public void printInfo1(String... args) {
    for(int i = 0;i < args.length;i++) {
        System.out.println(args[i]);
    }
}
```

> **ä½¿ç”¨æ–¹æ³•ä¸æ•°ç»„ä¸€æ ·**ã€‚

## 6-2 æ–¹æ³•å‚æ•°ä¼ é€’

+ å½¢å‚
+ å®å‚

### 6-2-1 JVMå†…å­˜æ¨¡å‹

![JVMå†…å­˜æ¨¡å‹](note.assets/IMG_1084.JPG)

#### 6-2-1-1 åŸºæœ¬æ•°æ®ç±»å‹

![åŸºæœ¬æ•°æ®ç±»å‹å‚æ•°ä¼ é€’è¿‡ç¨‹](note.assets/IMG_1088.JPG)

#### 6-2-1-2 å¼•ç”¨å¯¹è±¡ 

![å¼•ç”¨å¯¹è±¡å†…å­˜ä¼ é€’](note.assets/IMG_1090.JPG)

### 6-2-5 æ€»ç»“

+ æ–¹æ³•çš„å‚æ•°ä¼ é€’
  + å¦‚æœæ–¹æ³•çš„å½¢å‚æ˜¯**åŸºæœ¬æ•°æ®ç±»å‹**ï¼Œé‚£ä¹ˆå®å‚ï¼ˆå®é™…çš„æ•°æ®ï¼‰å‘å½¢å‚ä¼ é€’å‚æ•°æ—¶ï¼Œå°±æ˜¯æŠŠå®å‚çš„å€¼**å¤åˆ¶**ç»™å½¢å‚ã€‚**æ¯ä¸ªæ–¹æ³•åœ¨æ ˆå†…å­˜ä¸­ï¼Œéƒ½ä¼šæœ‰ç‹¬ç«‹çš„æ ˆç©ºé—´ï¼Œæ–¹æ³•è¿è¡Œç»“æŸåå°±ä¼šå¼¹æ ˆæ¶ˆå¤±ã€‚**
  + å¦‚æœæ–¹æ³•çš„å½¢å‚æ˜¯**å¯¹è±¡ï¼ˆå¼•ç”¨æ•°æ®ç±»å‹ï¼‰**ï¼Œé‚£ä¹ˆå®å‚ï¼ˆå®é™…çš„å¯¹è±¡ï¼‰å‘å®å‚ä¼ é€’å‚æ•°æ—¶ï¼Œå°±æ˜¯æŠŠå®å‚åœ¨**æ ˆä¸­çš„å€¼---å¼•ç”¨å¯¹è±¡åœ¨å †ä¸­çš„åœ°å€**ä¼ é€’ç»™å½¢å‚ã€‚å¼•ç”¨æ•°æ®ç±»å‹çš„ä¼ å‚ï¼Œä¼ å…¥çš„æ˜¯åœ°å€å€¼ï¼Œå†…å­˜ä¸­ä¼šé€ æˆä¸¤ä¸ªå¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªå†…å­˜çš„æ•ˆæœï¼Œæ‰€ä»¥å³ä½¿æ–¹æ³•
    å¼¹æ ˆï¼Œå †å†…å­˜ä¸­çš„æ•°æ®ä¹Ÿå·²ç»æ˜¯æ”¹å˜åçš„ç»“æœ
+ åŸºæœ¬æ•°æ®ç±»å‹éƒ½ä¿å­˜åœ¨æ ˆä¸­ï¼Œå¼•ç”¨å¯¹è±¡åœ¨æ ˆå†…å­˜ä¸­ä¿å­˜çš„æ˜¯å¼•ç”¨å¯¹è±¡åœ¨å †ä¸­çš„åœ°å€ï¼Œæ–¹æ³•ä¼ é€’çš„å‚æ•°å°±æ˜¯ä¼ é€’å€¼ï¼ˆ***å˜é‡åœ¨æ ˆä¸­çš„å€¼***ï¼‰ã€‚

## 6-3 å°è£…å’Œéšè—

Javaä¸­å°†æ•°æ®å£°æ˜ç§æœ‰åŒ–(private)ï¼Œæä¾›å…¬å…±(public)æ–¹æ³•ï¼šgetï¼Œsetå¯¹è¯¥å±æ€§è¿›è¡Œæ“ä½œã€‚

ç›®çš„ï¼š

+ éšè—ç±»ä¸­ä¸éœ€è¦å¯¹å¤–ç•Œæä¾›çš„å®ç°ç»†èŠ‚
+ æ–¹ä¾¿åŠ å…¥æ§åˆ¶é€»è¾‘ï¼Œé™åˆ¶ä¸åˆç†æ“ä½œ

```java
    private String name;
    private int age;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        if(age >= 150 || age <=0) {
            System.out.println("ä¸åˆç†");
        } else 
            this.age = age;
    }
```

### 6-3-1 æƒé™ä¿®é¥°ç¬¦

| ä¿®é¥°ç¬¦        | ç±»å†…éƒ¨ | åŒä¸€ä¸ªåŒ… | å­ç±» | é™¤ä¸Šè¿°ä»»ä½•åœ°æ–¹ |
| ------------- | ------ | -------- | ---- | -------------- |
| private       | yes    |          |      |                |
| default(ç¼ºçœ) | yes    | yes      |      |                |
| proteced      | yes    | yes      | yes  |                |
| public        | yes    | yes      | yes  | yes            |

> è®¿é—®æƒé™

+ åœ¨ä¸€ä¸ªjavaæ–‡ä»¶ä¸­ï¼Œåªèƒ½æœ‰ä¸€ä¸ªclassç”±publicä¿®é¥°ï¼Œå…¶ä½™classåªèƒ½`ç¼ºçœ(default)`,ä¸”defaultä¿®é¥°çš„åªèƒ½å†åŒä¸€ä¸ª***åŒ…***ä¸­ä½¿ç”¨ã€‚

### 6-3-2 å°è£…æ€æƒ³ã€ç†è§£ã€‘

1. å°è£…æ¦‚è¿° æ˜¯é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹å¾ä¹‹ä¸€ï¼ˆå°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€ï¼‰ æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€å¯¹å®¢è§‚ä¸–ç•Œçš„æ¨¡æ‹Ÿï¼Œå®¢è§‚ä¸–ç•Œé‡Œæˆå‘˜å˜é‡éƒ½æ˜¯éšè—åœ¨å¯¹è±¡å†…éƒ¨çš„ï¼Œå¤–ç•Œæ˜¯æ— æ³•ç›´æ¥æ“ä½œçš„ã€‚
2. å°è£…åŸåˆ™ å°†ç±»çš„æŸäº›ä¿¡æ¯éšè—åœ¨ç±»å†…éƒ¨ï¼Œä¸å…è®¸å¤–éƒ¨ç¨‹åºç›´æ¥è®¿é—®ï¼Œè€Œæ˜¯é€šè¿‡è¯¥ç±»æä¾›çš„æ–¹æ³•æ¥å®ç°å¯¹éšè—ä¿¡æ¯çš„æ“ä½œå’Œè®¿é—® æˆå‘˜å˜é‡privateï¼Œæä¾›å¯¹åº”çš„getXxx()/setXxx()æ–¹æ³•ã€‚
3. å°è£…å¥½å¤„ é€šè¿‡æ–¹æ³•æ¥æ§åˆ¶æˆå‘˜å˜é‡çš„æ“ä½œï¼Œæé«˜äº†ä»£ç çš„å®‰å…¨æ€§ æŠŠä»£ç ç”¨æ–¹æ³•è¿›è¡Œå°è£…ï¼Œæé«˜äº†ä»£ç çš„å¤ç”¨æ€§ã€‚

## 6-4 ç±»çš„æ„é€ æ–¹æ³•

```java
public class Person4 {
    private int age;
    private String name;
//æ„é€ æ–¹æ³•é‡è½½
    public Person4(int age, String name) {
        this.age = age;
        this.name = name;
    }

    public Person4(String name) {
        this.name = name;
    }

    public Person4(int age) {
        this.age = age;
    }
//é»˜è®¤æ„é€ å™¨ï¼Œé»˜è®¤æ„é€ å™¨çš„ä¿®é¥°ç¬¦ä¸æ‰€å±ç±»çš„ä¿®é¥°ç¬¦ç›¸åŒ
    public Person4() {
    }
}
```

> **çˆ¶ç±»æ„é€ å™¨ä¸å¯è¢«å­ç±»ç»§æ‰¿**ã€‚

## 6-5 thiså…³é”®å­—

+ thisè¡¨ç¤ºå½“å‰å¯¹è±¡ï¼Œè®¿é—®æœ¬ç±»å†…å®¹ï¼Œå¯ä»¥è°ƒç”¨ç±»çš„å±æ€§ã€æ–¹æ³•å’Œæ„é€ å™¨ã€‚
+ æ–¹æ³•çš„å½¢å‚å¦‚æœä¸æˆå‘˜å˜é‡**åŒå**ï¼Œä¸å¸¦thisä¿®é¥°çš„å˜é‡æŒ‡çš„æ˜¯å½¢å‚ï¼Œè€Œä¸æ˜¯æˆå‘˜å˜é‡ã€‚
+ æ–¹æ³•çš„å½¢å‚æ²¡æœ‰ä¸æˆå‘˜å˜é‡åŒåï¼Œä¸å¸¦thisä¿®é¥°çš„å˜é‡æŒ‡çš„æ˜¯æˆå‘˜å˜é‡ã€‚
+ ä½¿ç”¨æƒ…å†µ
  + åœ¨æ–¹æ³•å†…éƒ¨ä½¿ç”¨ï¼Œå³è¿™ä¸ªæ–¹æ³•æ‰€å±å¯¹è±¡ã€‚
  + åœ¨æ„é€ å™¨å†…éƒ¨ä½¿ç”¨ï¼Œè¡¨ç¤ºæ„é€ å™¨æ­£åœ¨åˆå§‹åŒ–çš„å¯¹è±¡ã€‚

åœ¨æ„é€ æ–¹æ³•ä¸­ä½¿ç”¨thiså…³é”®å­—çš„**ç‰¹æ®Šæƒ…å†µ**ï¼š

+ this()çš„è°ƒç”¨å¿…é¡»æ˜¯æ„é€ æ–¹æ³•ä¸­çš„ç¬¬ä¸€ä¸ªè¯­å¥ï¼Œä¹Ÿæ˜¯å”¯ä¸€ä¸€ä¸ªã€‚
+ superå’Œthisä¸¤ç§æ„é€ è°ƒç”¨æ˜¯ä¸èƒ½åŒæ—¶ä½¿ç”¨çš„ã€‚

## 6-6 superå…³é”®å­—

ä½œç”¨ï¼š

+ åœ¨å­ç±»çš„æˆå‘˜æ–¹æ³•ä¸­ï¼Œè®¿é—®çˆ¶ç±»çš„æˆå‘˜å˜é‡ã€‚
+ åœ¨å­ç±»çš„æˆå‘˜æ–¹æ³•ä¸­ï¼Œè®¿é—®çˆ¶ç±»çš„æˆå‘˜æ–¹æ³•ã€‚
+ åœ¨å­ç±»çš„æ„é€ æ–¹æ³•ä¸­ï¼Œè®¿é—®çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚

# day_7

## 7-1 ç»§æ‰¿

> æŠŠå…±æ€§æŠ½å–å½¢æˆçˆ¶ç±»ã€‚
>
> å…³é”®å­—â€œextendsâ€ï¼Œ*å­ç±»ä¸æ˜¯çˆ¶ç±»çš„å­é›†ï¼Œè€Œæ˜¯**çˆ¶ç±»çš„æ‰©å±•**ã€‚*
>
> å­ç±»ä¸èƒ½è®¿é—®çˆ¶ç±»çš„privateä¿®é¥°çš„å˜é‡ã€‚ä½†å¯é€šè¿‡**getã€set**æ–¹æ³•è®¿é—®ã€‚

![ç»§æ‰¿1](note.assets/IMG_1091.PNG)

+ Java<u>åªèƒ½å•ç»§æ‰¿ï¼Œä¸èƒ½å¤šé‡ç»§æ‰¿ã€‚</u>
+ ä¸€ä¸ªå­ç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œè€Œä¸€ä¸ªçˆ¶ç±»å¯ä»¥æœ‰å¤šä¸ªå­ç±»ã€‚

### 7-1-1 ç»§æ‰¿çš„å¥½å¤„å’Œå¼Šç«¯

+ ç»§æ‰¿å¥½å¤„
  + æé«˜äº†ä»£ç çš„å¤ç”¨æ€§(å¤šä¸ªç±»ç›¸åŒçš„æˆå‘˜å¯ä»¥æ”¾åˆ°åŒä¸€ä¸ªç±»ä¸­)ã€‚
  + æé«˜äº†ä»£ç çš„ç»´æŠ¤æ€§(å¦‚æœæ–¹æ³•çš„ä»£ç éœ€è¦ä¿®æ”¹ï¼Œä¿®æ”¹ä¸€å¤„å³å¯)ã€‚

+ ç»§æ‰¿å¼Šç«¯
  + ç»§æ‰¿è®©ç±»ä¸ç±»ä¹‹é—´äº§ç”Ÿäº†å…³ç³»ï¼Œç±»çš„è€¦åˆæ€§å¢å¼ºäº†ï¼Œå½“çˆ¶ç±»å‘ç”Ÿå˜åŒ–æ—¶å­ç±»å®ç°ä¹Ÿä¸å¾—ä¸è·Ÿç€å˜åŒ–ï¼Œå‰Šå¼±äº†å­ç±»çš„ç‹¬ç«‹æ€§ã€‚

### 7-1-2 æ–¹æ³•é‡å†™(override)

+ é‡å†™æ–¹æ³•ä¸è¢«é‡å†™æ–¹æ³•<u>å…·æœ‰ç›¸åŒçš„æ–¹æ³•åç§°ã€å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹</u>ã€‚
+ é‡å†™æ–¹æ³•<u>ä¸èƒ½ä½¿ç”¨æ¯”è¢«é‡å†™æ–¹æ³•æ›´ä¸¥æ ¼çš„è®¿é—®æƒé™</u>ã€‚
+ é‡å†™æ–¹æ³•ä¸è¢«é‡å†™æ–¹æ³•éœ€<u>åŒæ—¶ä¸ºstaticæˆ–åŒä¸ºéstatic</u>ã€‚

+ <u>å­ç±»æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ä¸èƒ½å¤§äºçˆ¶ç±»è¢«é‡å†™æ–¹æ³•çš„å¼‚å¸¸</u>ã€‚

### 7-1-3 superå…³é”®å­—

+ superå¯ä»¥è®¿é—®çˆ¶ç±»å®šä¹‰çš„å±æ€§ã€æˆå‘˜æ–¹æ³•
+ superå¯ç”¨äºå­ç±»æ„é€ æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨
+ superä»£è¡¨çˆ¶ç±»å†…å­˜ç©ºé—´çš„æ ‡è¯†
+ supeå¯ä»¥è°ƒç”¨å­ç±»ä¹‹ä¸Šçš„**æ‰€æœ‰**çˆ¶ç±»å±‚çº§

**è°ƒç”¨çˆ¶ç±»æ„é€ å™¨**

+ æ‰€æœ‰å­ç±»æ„é€ å™¨ä¼š**é»˜è®¤**è®¿é—®çˆ¶ç±»ä¸­**ç©ºå‚æ•°**çš„æ„é€ å™¨
+ åœ¨çˆ¶ç±»***åªæœ‰*****æœ‰å‚æ„é€ çš„æ—¶å€™**ï¼Œå­ç±»**å¿…é¡»**æ˜¾å¼çš„æ„é€ ä¸€ä¸ª**è°ƒç”¨çˆ¶ç±»çš„æœ‰å‚æ„é€ **ï¼Œå¹¶ä¸”è°ƒç”¨çˆ¶ç±»æ–¹æ³•è¦å†™åœ¨ç¬¬ä¸€è¡Œã€‚

```java
public Class Person{
    public Person(String name) {//å¸¦å‚æ„é€ æ–¹æ³•

   }
}

public class P extends Person{//å­ç±»å¿…é¡»æ˜¾å¼çš„æ„é€ ä¸€ä¸ªè°ƒç”¨çˆ¶ç±»çš„æœ‰å‚æ„é€ 
    public P(String name) {
        super(name);
    }
}
```

## 7-2 thisä¸superçš„åŒºåˆ«

| åºå· | åŒºåˆ«ç‚¹     | this                                   | super                        |
| ---- | ---------- | -------------------------------------- | ---------------------------- |
| 1.   | è®¿é—®å±æ€§   | è®¿é—®æœ¬ç±»å±æ€§ï¼Œå¦‚æœæœ¬ç±»æ²¡æœ‰ï¼Œåˆ™è®¿é—®çˆ¶ç±» | åªè®¿é—®çˆ¶ç±»å±æ€§               |
| 2.   | è°ƒç”¨æ–¹æ³•   | è®¿é—®æœ¬ç±»æ–¹æ³•ï¼Œå¦‚æœæœ¬ç±»æ²¡æœ‰ï¼Œåˆ™è®¿é—®çˆ¶ç±» | åªè®¿é—®çˆ¶ç±»æ–¹æ³•               |
| 3.   | è°ƒç”¨æ„é€ å™¨ | è°ƒç”¨æœ¬ç±»æ„é€ å™¨ï¼Œå¿…é¡»æ”¾åœ¨é¦–è¡Œ           | è°ƒç”¨çˆ¶ç±»æ„é€ å™¨ï¼Œå¿…é¡»æ”¾åœ¨é¦–è¡Œ |
| 4.   | ç‰¹æ®Šæƒ…å†µ   | è¡¨ç¤º***å½“å‰å¯¹è±¡***                     | æ—                            |

![](note.assets/IMG_1092.JPG)

![](note.assets/IMG_1093.JPG)



![](note.assets/IMG_1094.JPG)

## 7-3 å¤šæ€

**æ¦‚å¿µ**ï¼šåŒä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨ä¸åŒæ—¶åˆ»è¡¨ç°å‡ºæ¥çš„ä¸åŒå½¢æ€ã€‚åŒä¸€è¡Œä¸ºï¼Œå…·æœ‰å¤šä¸ªä¸åŒè¡¨ç°å½¢å¼ã€‚

å¤šæ€çš„**å‰æ**ï¼š

+ è¦æœ‰ç»§æ‰¿æˆ–å®ç°å…³ç³»ï¼›
+ è¦æœ‰æ–¹æ³•çš„é‡å†™ï¼›
+ è¦æœ‰çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ã€‚

**æ ¼å¼**ï¼š

+ çˆ¶ç±»åç§° å¯¹è±¡å = new å­ç±»åç§°();
+ æ¥å£åç§° å¯¹è±¡å = new å®ç°ç±»åç§°();

**ä½“ç°**ï¼š

+ æ–¹æ³•é‡è½½ï¼šæœ¬ç±»çš„åŒåæ–¹æ³•ï¼Œä½“ç°ç›¸åŒçš„åç§°æ–¹æ³•å®ç°ä¸åŒçš„é€»è¾‘ï¼›
+ æ–¹æ³•é‡å†™ï¼šå­ç±»å¯¹çˆ¶ç±»æ–¹æ³•çš„è¦†ç›–ï¼Œå­ç±»å¯ä»¥ä½¿ç”¨å’Œçˆ¶ç±»ç›¸åŒçš„æ–¹æ³•åï¼Œè¦†ç›–çˆ¶ç±»çš„é€»è¾‘ï¼›çˆ¶ç±»çš„æ–¹æ³•ï¼Œ***æƒ³ä¿®æ”¹é€»è¾‘ï¼Œä½†æœ‰åˆ«çš„ä»£ç åœ¨è°ƒç”¨çˆ¶ç±»æ–¹æ³•ï¼Œè¿™æ—¶è€ƒè™‘å­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œå¦‚ä½•é‡å†™çˆ¶ç±»æ–¹æ³•ã€‚***

+ å¯¹è±¡çš„å¤šæ€æ€§---å­ç±»å¯¹è±¡å¯ä»¥ä»£æ›¿çˆ¶ç±»å¯¹è±¡ä½¿ç”¨

  + ä¸€ä¸ªå˜é‡åªèƒ½æœ‰ä¸€ç§ç¡®å®šçš„æ•°æ®ç±»å‹
  + ä¸€ä¸ªå¼•ç”¨ç±»å‹å˜é‡å¯èƒ½æŒ‡å‘å¤šä¸ªä¸åŒç±»å‹å¯¹è±¡

  ```java
  Person p = new Person();
  Person e = new Student();//å¼•ç”¨ç±»å‹å˜é‡eæŒ‡å‘Studentç±»å‹å¯¹è±¡
  ```

  > å‘ä¸Šè½¬å‹ï¼š
  >
  > *å­ç±»å¯ä»¥çœ‹ä½œæ˜¯ç‰¹æ®Šçš„çˆ¶ç±»*ï¼Œæ‰€ä»¥çˆ¶ç±»ç±»å‹çš„å¼•ç”¨å¯ä»¥æŒ‡å‘å­ç±»å¯¹è±¡ï¼š**å‘ä¸Šè½¬å‹**ã€‚
  >
  > **å‘ä¸Šè½¬å‹ä¸€å®šæ˜¯å®‰å…¨çš„ã€‚**ä»å°èŒƒå›´å˜æˆå¤§èŒƒå›´ã€‚ä½†å­ç±»ç‰¹æœ‰æ–¹æ³•å°†æ— æ³•è°ƒç”¨ã€‚
  >
  > å‘ä¸‹è½¬å‹ï¼š
  >
  > æ ¼å¼ï¼šå­ç±»åç§° å¯¹è±¡å = (å­ç±»åç§°)çˆ¶ç±»å¯¹è±¡;  å°†çˆ¶ç±»å¯¹è±¡è¿˜åŸæˆåŸæ¥çš„å­ç±»å¯¹è±¡ã€‚
  >
  > **å¿…é¡»åŸè·¯è¿”å›ï¼Œå¦åˆ™è¿è¡Œæ—¶ä¼šæŠ¥é”™ã€‚**
  >
  > ```java
  > Fu f = new Zi();//å‘ä¸Šè½¬å‹
  > Zi zi = (Zi)f;//å‘ä¸‹è½¬å‹
  > zi.method();
  > ```
  >
  > 

æˆå‘˜è®¿é—®ç‰¹ç‚¹ï¼š

+ æˆå‘˜å˜é‡
  + ç¼–è¯‘çœ‹çˆ¶ç±»ï¼Œè¿è¡Œçœ‹çˆ¶ç±»
+ æˆå‘˜æ–¹æ³•Â·
  + ç¼–è¯‘çœ‹çˆ¶ç±»ï¼Œè¿è¡Œçœ‹å­ç±»

Javaå¼•ç”¨å˜é‡æœ‰ä¸¤ä¸ªç±»å‹ï¼š

+ **ç¼–è¯‘**æ—¶ç±»å‹ï¼šç”±å£°æ˜è¯¥å˜é‡æ—¶ä½¿ç”¨çš„ç±»Â·                      å‹å†³å®š
+ **è¿è¡Œ**æ—¶ç±»å‹ï¼šç”±å®é™…èµ‹ç»™è¯¥å˜é‡çš„å¯¹è±¡å†³å®š

> *è‹¥ç¼–è¯‘æ—¶ç±»å‹å’Œè¿è¡Œæ—¶ç±»å‹ä¸ä¸€è‡´ï¼Œå°±å‡ºç°**å¤šæ€**ã€‚*

- [ ] ä¸€ä¸ªå¼•ç”¨ç±»å‹å˜é‡å¦‚æœå£°æ˜æ—¶ä¸ºçˆ¶ç±»ç±»å‹ï¼Œä½†å®é™…å¼•ç”¨çš„æ˜¯å­ç±»å¯¹è±¡ï¼Œé‚£è¯¥å˜é‡å°±ä¸èƒ½è®¿é—®å­ç±»ä¸­*æ·»åŠ çš„å±æ€§*ã€‚

  ```java
  Student m = new Student();
  m.school = "SHU";
  
  Person e = new Student();
  e.school = "DHU";//éæ³•
  //å±æ€§æ˜¯ç¼–è¯‘æ—¶ç¡®å®šçš„ï¼Œç¼–è¯‘æ—¶eä¸ºPersonç±»å‹ï¼Œæ²¡æœ‰schoolæˆå‘˜å˜é‡ï¼Œå› è€Œç¼–è¯‘é”™è¯¯ã€‚
  ```

### 7-3-1 è™šæ‹Ÿæ–¹æ³•è°ƒç”¨

```java
public class TestDemo {
    public static void main(String[] args) {
        Person p = new Person();
        p.showInfo();

        Student s = new Student();
        s.showInfo();

        Person e = new Student();
        e.showInfo();//è¾“å‡ºStudent()çš„showInfo()æ–¹æ³•
    }
}
```

> ç¼–è¯‘æ—¶eä¸ºPersonç±»å‹ï¼Œè€Œæ–¹æ³•è°ƒç”¨æ˜¯è¿è¡Œæ—¶ç¡®å®šï¼Œæ‰€ä»¥è°ƒç”¨Student()çš„showInfo()æ–¹æ³•ã€‚---**åŠ¨æ€ç»‘å®š**

- [x] ***ç¼–è¯‘çœ‹å·¦è¾¹ï¼Œè¿è¡Œçœ‹å³è¾¹ã€‚***

### 7-3-2 å¤šæ€å°ç»“

+ å‰æï¼š
  + éœ€è¦å­˜åœ¨ç»§æ‰¿æˆ–å®ç°å…³ç³»
  + è¦æœ‰è¦†ç›–æ“ä½œ

+ æˆå‘˜æ–¹æ³•
  + ç¼–è¯‘æ—¶ï¼šè¦æŸ¥çœ‹å¼•ç”¨å˜é‡æ‰€å±ç±»æ˜¯å¦æœ‰æ‰€è°ƒç”¨çš„æ–¹æ³•
  + è¿è¡Œæ—¶ï¼šè°ƒç”¨å®é™…å¯¹è±¡çš„æˆå‘˜æ–¹æ³•
+ æˆå‘˜å˜é‡ï¼š
  + ä¸å…·å¤‡å¤šæ€æ€§ï¼Œåªçœ‹å¼•ç”¨å˜é‡æ‰€å±çš„ç±»

## 7-4 instanceof

 ä½œç”¨ï¼šæ£€éªŒxæ˜¯å¦ä¸ºç±»Açš„å­ç±»ï¼Œè¿”å›å€¼ä¸ºbooleanå‹ã€‚

```java
Person p = new Person();

Student s = new Student();

Person e = new Student();

System.out.println(p instanceof Person);//true
System.out.println(s instanceof Student);//true
System.out.println(e instanceof Student);//true
```

## 7-5 Objectç±»

+ æ‰€ä»¥Javaç±»çš„æ ¹çˆ¶ç±»ï¼ˆåŸºç±»ï¼‰

+ ç±»çš„å£°æ˜é»˜è®¤extends Objectç±»

  ```java
  void method(Object obj) {...}//å¯ä»¥æ¥å—ä»»ä½•ç±»åšä¸ºå‚æ•°	
  ```

  ```java
  p.equals(e);//æ¯”è¾ƒå¼•ç”¨å¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€ä¸ªï¼ˆåœ°å€æ˜¯å¦ç›¸åŒï¼‰
  p.hashCode();//å–å¾—hashç 
  p.toString();//å–å¾—å†…å­˜åœ°å€
  ```



# day_8

## 8-1 å¯¹è±¡ç±»å‹è½¬æ¢

+ åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢

  + è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼šèŒƒå›´å°çš„æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¤§çš„æ•°æ®ç±»å‹

    ```java
    int i = 1;
    long l = i;//åˆæ³•
    ```

  + å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼šèŒƒå›´å¤§çš„æ•°æ®ç±»å‹è½¬æ¢ä¸ºå°çš„æ•°æ®ç±»å‹

    ```java
    long l = 1L;
    int i = l;//éæ³•
    int i = (int) l;//åˆæ³•
    ```

+ å¯¹è±¡çš„ç±»å‹è½¬æ¢

  + *<u>å­ç±»åˆ°çˆ¶ç±»å¯ä»¥ç›´æ¥è½¬æ¢</u>*

    ```java
    Person p = new Person();
    Student s = new Student();
    
    p = s;//åˆæ³•
    ```

  + *<u>çˆ¶ç±»åˆ°å­ç±»éœ€è¦å¼ºåˆ¶è½¬æ¢</u>*

    ```java
    Person p = new Person();
    Student s = new Student();
    
    s = (Student) p;//éœ€å¼ºè½¬
    ```

  + *<u>**æ— ç»§æ‰¿å…³ç³»çš„è½¬æ¢éæ³•**</u>*

## 8-2 == & equals()

+ **== **<u>*æ¯”è¾ƒå¯¹è±¡æ—¶*</u>åªæœ‰æŒ‡å‘åŒä¸€å¯¹è±¡æ—¶æ‰ä¸ºtrue  

+ **equals()** åªèƒ½æ¯”è¾ƒå¼•ç”¨ç±»å‹ï¼Œæ¯”è¾ƒçš„æ˜¯æ˜¯å¦ä¸ºåŒä¸€åœ°å€ï¼Œä¸==ç›¸åŒ

> **ç‰¹ä¾‹**ï¼šå½“ç”¨equals()æ–¹æ³•æ¯”è¾ƒæ—¶ï¼Œå¯¹ç±»`File,String,Date,åŒ…è£…ç±»(Wrapper Class)`æ˜¯æ¯”è¾ƒç±»å‹åŠ**å†…å®¹**æ—¶**<u>*ä¸è€ƒè™‘å¼•ç”¨çš„æ˜¯å¦ä¸ºåŒä¸€å¯¹è±¡*</u>**ã€‚

+ å¦‚æœä¸æƒ³ç”¨æŸä¸€ä¸ªç±»çš„equals()æ–¹æ³•æ¯”è¾ƒå¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œå°±éœ€è¦**é‡å†™**equals()æ–¹æ³•ã€‚



### 8-2-1 é‡å†™equals()æ–¹æ³•

```java
@Override
    public boolean equals(Object obj) {
        if(obj instanceof MyDate) {//åˆ¤æ–­ä¼ å…¥çš„objæ˜¯å¦ä¸ºå­ç±»
            MyDate m = (MyDate) obj;//å¦‚æœæ˜¯ï¼Œå°±å¼ºåˆ¶è½¬æ¢
            if(this.month == m.month && this.year == m.year && 	this.day == m.day) {//æ¯”è¾ƒå€¼æ˜¯å¦ç›¸ç­‰
                return true;
            }
        }
        return false;
    }
```

## 8-3 staticå…³é”®å­—

> ç±»å±æ€§ã€ç±»æ–¹æ³•ï¼šè®¾è®¡ç±»æ—¶ï¼Œä¸æƒ³ä½¿å±æ€§ã€æ–¹æ³•éšå¯¹è±¡ä¸åŒè€Œæ”¹å˜ã€‚

### 8-3-1 ç±»å˜é‡

+ å±€éƒ¨å˜é‡ä¸èƒ½è¢«å£°æ˜ä¸º static å˜é‡ã€‚

```java
public class Chinese {
    static String country;//ç±»å˜é‡ï¼ˆé™æ€å˜é‡ï¼‰ï¼Œä¸ç”¨å®ä¾‹åŒ–ï¼Œç›´æ¥ç±»å.å±æ€§å°±å¯ä»¥ä½¿ç”¨ï¼Œæ˜¯ç±»çš„ä¸€éƒ¨åˆ†ï¼Œè¢«æ‰€æœ‰è¿™ä¸ªç±»çš„å®ä¾‹åŒ–å¯¹è±¡å…±äº«
    String name;
    int age;//å®ä¾‹å˜é‡ï¼Œåªæœ‰å®ä¾‹åŒ–ä¹‹åæ‰èƒ½ä½¿ç”¨ï¼Œå±äºå®ä¾‹åŒ–å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œä¸å¯å…±äº«
    
	public static void main(String[] args) {
        Chinese c = new Chinese();
        Chinese.country = "China";//ç±»å.å±æ€§è°ƒç”¨
    }
}

```

### 8-3-2 ç±»æ–¹æ³•

+ ç±»å.æ–¹æ³•åè°ƒç”¨ï¼›
+ åšå·¥å…·ç±»ï¼›
+ **æ–¹æ³•å†…ä¸èƒ½ç”¨this()å’Œsuper()ï¼›**
+ **é™æ€æ–¹æ³•ä¸èƒ½ä½¿ç”¨ç±»çš„éé™æ€å˜é‡ã€‚**

## 8-4 å•ä¾‹è®¾è®¡æ¨¡å¼

+ é¿å…å¤šæ¬¡é‡å¤å®ä¾‹åŒ–å¯¹è±¡

```java
/*å•ä¾‹è®¾è®¡æ¨¡å¼--é¥¿æ±‰å¼--åªnewä¸€æ¬¡å¯¹è±¡*/
public class Single {
    //ç§æœ‰æ„é€ ï¼Œæ„é€ æ–¹æ³•ç§æœ‰åŒ–ï¼Œè°ƒç”¨ç±»æ—¶ä¸èƒ½ç›´æ¥ä½¿ç”¨newæ¥åˆ›å»ºå¯¹è±¡
    private Single() {
        
    }
    //ç§æœ‰çš„Singleç±»å‹ç±»å˜é‡,åªåˆ›å»ºä¸€æ¬¡
    private static Single single = new Single();
    
    public static Single getInstance() {
        return single;
    }
}
```

```java
//è°ƒç”¨
public class Test {
    public static void main(String[] args) {
        Single s = Single.getInstance();//ç±»æ–¹æ³•ï¼Œç±»å.æ–¹æ³•
    }
}
```

```java
/*å•ä¾‹è®¾è®¡æ¨¡å¼--æ‡’æ±‰å¼*/
public class Single1 {
    //ç§æœ‰åŒ–æ„é€ ï¼Œå¤–ç•Œä¸èƒ½ç›´æ¥newå¯¹è±¡
    private Single1() {
        
    }
    
    private static Single1 s1 = null;
    //å¦‚æœå®ä¾‹æœªåˆ›å»ºï¼Œå°±å…ˆåˆ›å»ºï¼Œåœ¨è¿”å›ç»™è°ƒç”¨è€…
    public static Single1 getInstance() {
        if(s1 == null) {
            s1 = new Single1();
        }
 		
        return s1;
    }
}
```

# day_9

## 9-1 ä»£ç å—

```java
public class Person {
    private String name;

    public Person() {
        this.name = "jj";
        System.out.println("æ‰§è¡Œæ„é€ æ–¹æ³•");
    }
    //éé™æ€ä»£ç å—
    {//é™æ€\éé™æ€ä¿®é¥°çš„å±æ€§å’Œæ–¹æ³•å‡å¯æ‰§è¡Œ
        System.out.println("æ‰§è¡Œéé™æ€ä»£ç å—");
    }
    //é™æ€ä»£ç å—
    static {
        //åªèƒ½ä½¿ç”¨é™æ€(static)ä¿®é¥°çš„å±æ€§å’Œæ–¹æ³•
        System.out.println(age);
    }
}
```

åœ¨new Person()çš„æ—¶å€™æ‰§è¡Œæ­¥éª¤ï¼š

+ 1.ç±»çš„å±æ€§çš„é»˜è®¤åˆå§‹åŒ–å’Œæ˜¾ç¤ºåˆå§‹åŒ–
+ 2.æ‰§è¡Œä»£ç å—çš„ä»£ç 
+ 3.æ‰§è¡Œæ„é€ å™¨çš„ä»£ç 

> æ¯æ¬¡new Person()æ—¶ï¼š
>
> éé™æ€ä»£ç å—é‡æ–°æ‰§è¡Œï¼Œè€Œé™æ€ä»£ç å—**åªèƒ½æ‰§è¡Œä¸€æ¬¡**ã€‚
>
> é™æ€ä»£ç å—æ‰§è¡Œ**<u>*å…ˆäº*</u>**éé™æ€ä»£ç å—ã€‚

## 9-2 finalå…³é”®å­—

+ finalä¿®é¥°çš„**ç±»**<u>ä¸èƒ½ç»§æ‰¿</u>ï¼›

+ finalä¿®é¥°çš„**æ–¹æ³•**<u>ä¸èƒ½è¢«å­ç±»é‡å†™</u>ï¼›

+ finalä¿®é¥°çš„å˜é‡ä¸º**å¸¸é‡**ï¼Œåç§°å…¨éƒ¨å¤§å†™ï¼›

+ fianlä¿®é¥°åŸºæœ¬æ•°æ®ç±»å‹å˜é‡ï¼Œä¸èƒ½å†æ¬¡èµ‹å€¼ï¼›

+ final ä¿®é¥°æŒ‡çš„æ˜¯å¼•ç”¨ç±»å‹çš„**åœ°å€å€¼ä¸èƒ½å‘ç”Ÿæ”¹å˜**ï¼Œä½†æ˜¯åœ°å€é‡Œé¢çš„**å†…å®¹æ˜¯å¯ä»¥å‘ç”Ÿæ”¹å˜çš„**ï¼›

+ final staticä¸€èµ·ä¿®é¥°å°±æ˜¯**å…¨å±€å¸¸é‡**ã€‚

  ```java
  final static int A = 1;
  ```


## 9-3 æŠ½è±¡ç±»

çˆ¶ç±»è®¾è®¡çš„éå¸¸æŠ½è±¡ï¼Œä»¥è‡³äºæ²¡æœ‰å…·ä½“å®ä¾‹ã€‚å¦‚æœçˆ¶ç±»ä¸­çš„æ–¹æ³•ä¸ç¡®å®šå¦‚ä½•è¿›è¡Œ{}æ–¹æ³•ä½“çš„å®ç°ï¼Œé‚£ä¹ˆè¿™å°±åº”ä¸ºä¸€ä¸ª**æŠ½è±¡æ–¹æ³•**ã€‚

+ ç”¨abstractå…³é”®å­—ä¿®é¥°ç±»ï¼Œå°±æ˜¯æŠ½è±¡ç±»ã€‚

+ ç”¨abstractå…³é”®å­—ä¿®é¥°æ–¹æ³•ï¼Œå°±æ˜¯æŠ½è±¡æ–¹æ³•ã€‚

  + æŠ½è±¡æ–¹æ³•åªæœ‰å£°æ˜ï¼Œæ²¡æœ‰æ–¹æ³•çš„å®ç°ã€‚

+ **å«æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å¿…é¡»å£°æ˜ä¸ºæŠ½è±¡ç±»**ï¼Œä½†æŠ½è±¡ç±»ä¸­ä¸ä¸€å®šå«æœ‰æŠ½è±¡æ–¹æ³•ã€‚

+ **æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚**æŠ½è±¡ç±»æ˜¯ç”¨æ¥å½“ä½œçˆ¶ç±»è¢«ç»§æ‰¿çš„ï¼ŒæŠ½è±¡ç±»çš„å­ç±»å¿…é¡»**è¦†ç›–é‡å†™**çˆ¶ç±»çš„æŠ½è±¡æ–¹æ³•ï¼Œå¹¶æä¾›æ–¹æ³•ä½“ã€‚**è‹¥æ²¡æœ‰é‡å†™å…¨éƒ¨æŠ½è±¡æ–¹æ³•ï¼Œä»ä¸ºæŠ½è±¡ç±»ã€‚**

+ ä¸èƒ½ç”¨abstractä¿®é¥°å±æ€§ï¼Œç§æœ‰æ–¹æ³•ï¼Œæ„é€ å™¨ï¼Œé™æ€æ–¹æ³•ï¼Œfinalä¿®é¥°çš„æ–¹æ³•(**æŠ½è±¡ç±»å¿…é¡»è¢«ç»§æ‰¿æ‰èƒ½å®ç°**)ã€‚

+ æŠ½è±¡ç±»ä¸­ï¼Œå¯ä»¥æœ‰æ„é€ æ–¹æ³•ï¼Œæ˜¯ä¾›å­ç±»åˆ›å»ºå¯¹è±¡æ—¶ï¼Œåˆå§‹åŒ–çˆ¶ç±»æˆå‘˜ä½¿ç”¨ã€‚

  > ç†è§£ï¼šå­ç±»çš„æ„é€ æ–¹æ³•ä¸­ï¼Œæœ‰é»˜è®¤çš„super();ï¼Œä¼šè®¿é—®çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚

  ```java
  public abstract Animal{
  	public Aniaml(){
          //æ–¹æ³•ä½“
      }
      
      public abstract void move();//æŠ½è±¡æ–¹æ³•
  }
  
  public Cat extends Aniaml{
      public Cat() {
          //super();é»˜è®¤å­˜åœ¨ï¼Œå†™ä¸å†™éƒ½ä¸€æ ·
          System.out.println("Cat");
      }
      
      @Override
      public void move() {
  		//æ–¹æ³•ä½“
      }
  }
  ```

  **å®ç°:**

```java
public abstract class Animal {
    public abstract void test();
    
    public abstract void move();//æŠ½è±¡ç±»ï¼Œæ²¡æœ‰æ–¹æ³•ä½“
}
```

```java
public abstract class Bird extends Animal {//æŠ½è±¡ç±»ä¹Ÿèƒ½ç»§æ‰¿æŠ½è±¡ç±»
    @Override
    public void move() {
        
    }
    
    public abstract void test();//åªè¦æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•æ²¡æœ‰è¢«å®ç°ï¼Œç±»å¿…é¡»ä¸ºæŠ½è±¡ç±»
}
```

```java
public class Dog extends Animal {//å¿…é¡»é‡å†™æŠ½è±¡ç±»ä¸­æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•
    @Override
    public void test() {

    }

    @Override
    public void move() {

    }

}
```

## 9-4 æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼

![æŠ½è±¡æ¨¡æ¿](note.assets/IMG_1106.PNG)

```java
public abstract class Template {//å®šä¹‰æŠ½è±¡ç±»
    public abstract void code();//å®šä¹‰æŠ½è±¡æ–¹æ³•

    public final void getTime() {//å¾—åˆ°code()æ–¹æ³•æ‰§è¡Œçš„æ—¶é—´çš„æ–¹æ³•
        long start = System.currentTimeMillis();
        code();
        long end = System.currentTimeMillis();
        System.out.println("codeæ–¹æ³•æ‰§è¡Œçš„æ—¶é—´ä¸ºï¼š" + (end - start));
    }
}
```

```java
public class TemplateTest extends Template{
    public void code() {
        for (int i = 0; i < 10000;i++) {
            System.out.print(i + " ");
        }
        System.out.println();
    }

    public static void main(String[] args) {
        TemplateTest templateTest = new TemplateTest();
        templateTest.getTime();
    }
}
```

## 9-5 æ¥å£

æ¥å£å°±æ˜¯ä¸€ç§**å…¬å…±çš„è§„èŒƒæ ‡å‡†**ã€‚

**ä¸€å®šè¦æ˜ç¡®å®ƒå¹¶ä¸æ˜¯ç±»ï¼Œè€Œæ˜¯å¦å¤–ä¸€ç§å¼•ç”¨æ•°æ®ç±»å‹ã€‚**

> å¼•ç”¨æ•°æ®ç±»å‹ï¼šæ•°ç»„ã€ç±»ã€æ¥å£ã€‚

+ æœ‰æ—¶å¿…é¡»ä»å‡ ä¸ªç±»ä¸­æ´¾ç”Ÿå‡ºä¸€ä¸ªå­ç±»ï¼Œç»§æ‰¿å®ƒä»¬çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚ä½†æ˜¯ï¼ŒJavaä¸æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œæœ‰äº†æ¥å£ï¼Œå°±å¯ä»¥èµ·åˆ°å¤šé‡ç»§æ‰¿çš„æ•ˆæœã€‚
+ æ¥å£æ˜¯æŠ½è±¡æ–¹æ³•å’Œå¸¸é‡å€¼çš„å®šä¹‰çš„é›†åˆã€‚
+ æœ¬è´¨ä¸Šï¼Œ**æ¥å£æ˜¯ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»**ï¼Œè¿™ç§æŠ½è±¡ç±»åªåŒ…å«å¸¸é‡å’Œæ–¹æ³•çš„å®šä¹‰ï¼Œä½†æ²¡æœ‰å˜é‡å’Œæ–¹æ³•çš„å®ç°ã€‚
+ ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œæ¥å£ä¹Ÿå¯ä»¥ç»§æ‰¿å…¶ä»–æ¥å£ã€‚

> å¦‚æœå®ç°æ¥å£çš„ç±»æ²¡æœ‰å®ç°æ¥å£è¿™çš„å…¨éƒ¨æ–¹æ³•ï¼Œ é‚£ä¹ˆå¿…é¡»å°†æ­¤ç±»å®šä¹‰ä¸ºæŠ½è±¡ç±»ã€‚

**ç‰¹ç‚¹**ï¼š

+ æ‰€æœ‰æˆå‘˜**å˜é‡**é»˜è®¤`public static final`ä¿®é¥°ï¼Œ**ä¸”å¿…é¡»æœ‰åˆå§‹å€¼**ï¼Œå¸¸é‡åç§°ä½¿ç”¨å¤§å†™å­—æ¯ã€‚
+ æ‰€æœ‰æˆå‘˜**æ–¹æ³•**é»˜è®¤`public abstract`ä¿®é¥°ã€‚
+ æ¥å£æ²¡æœ‰æ„é€ å™¨ã€‚

**å®šä¹‰æ¥å£**

```java
public interface TestInterface01 {
    void work();
}
public interface TestInterface02 {
    void work02();
}
```

**å®ç°æ¥å£**

ä½¿ç”¨`implements`å…³é”®å­—ï¼Œ

æ¥å£çš„å®ç°ç±»å¿…é¡»è¦†ç›–é‡å†™æ¥å£ä¸­æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•ã€‚

```java
//ç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªæ¥å£
public class InterfaceImplement implements TestInterface01,TestInterface02{
    @Override
    public void work01() {

    }

    @Override
    public void work02() {

    }
}
```

```java
//æ¥å£å¯ä»¥ç»§æ‰¿æ¥å£ï¼Œä¸”å¯ä»¥ç»§æ‰¿å¤šä¸ª
public interface TestInterface03 extends TestInterface01, TestInterface02{
    
}
```

**æ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•**

Java8å¼€å§‹ï¼Œå…è®¸åœ¨æ¥å£ä¸­æ·»åŠ é»˜è®¤æ–¹æ³•ã€‚

é»˜è®¤æ–¹æ³•æ˜¯ä¸ºäº†**è§£å†³æ¥å£å‡çº§çš„é—®é¢˜**ï¼šå½“æ¥å£å¢åŠ æ–°çš„é»˜è®¤æ–¹æ³•æ—¶ï¼ŒåŸæ¥å®ç°äº†å®ƒçš„ç±»å´ä¸éœ€è¦åœ¨è¦†ç›–é‡å†™æ–°çš„æ–¹æ³•ã€‚å®ç°å®ƒçš„ç±»å¯ä»¥**ç›´æ¥è°ƒç”¨**æ–°æ·»åŠ çš„é»˜è®¤æ–¹æ³•ï¼ˆ*å¦‚æœæ²¡æœ‰è¢«è¦†ç›–é‡å†™*ï¼‰ã€‚

```java
public interface MyInterface {
    //æŠ½è±¡æ–¹æ³•ï¼Œä¸å«æ–¹æ³•ä½“
	void test();
    //é»˜è®¤æ–¹æ³•ï¼Œå«æ–¹æ³•ä½“
    [public] default void test02() {
		//æ–¹æ³•ä½“
    }
}

public class MyInterfaceImpl implements MyInterface{
    @Override
    public void test() {
        System.out.println("test");
    }
    //ä¸é‡å†™test02()æ–¹æ³•ä¹Ÿä¸ä¼šæŠ¥é”™
}
```

**æ¥å£ä¸­çš„é™æ€æ–¹æ³•**

ä¸èƒ½é€šè¿‡æ¥å£å®ç°ç±»å¯¹è±¡æ¥è°ƒç”¨æ¥å£ä¸­çš„é™æ€æ–¹æ³•ã€‚

```java
public interface MyInterfaceStatic {
    [public]  static void test() {
        System.out.println("æ¥å£é™æ€æ–¹æ³•!");
    }
}

//ä½¿ç”¨æ¥å£é™æ€æ–¹æ³•
public static void main(String[] args) {
     MyInterfaceStatic.test();//æ¥å£å.æ–¹æ³•å();
}
```

**æ—¢æœ‰ç»§æ‰¿åˆæœ‰å®ç°ğŸ•‰**

å®ç°å¤šä¸ªæ¥å£æ—¶ï¼š

+ æ¥å£ä¸­æœ‰å¤šä¸ªæŠ½è±¡æ–¹æ³•æ—¶ï¼Œå®ç°ç±»å¿…é¡»é‡å†™æ‰€æœ‰æŠ½è±¡æ–¹æ³•ã€‚å¦‚æœæŠ½è±¡æ–¹æ³•é‡åçš„ï¼Œåˆ™**åªé¡»é‡å†™ä¸€æ¬¡**ã€‚
+ æ¥å£ä¸­æœ‰å¤šä¸ªé»˜è®¤æ–¹æ³•æ—¶ï¼Œå®ç°ç±»éƒ½å¯ä»¥ç»§æ‰¿ä½¿ç”¨ã€‚å¦‚æœé»˜è®¤æ–¹æ³•é‡åçš„ï¼Œåˆ™å¿…é¡»é‡å†™ä¸€æ¬¡ã€‚

```java
//å…ˆç»§æ‰¿åå®ç°
class InterfaceImplement extends Person implements TestInterface01,TestInterface02{
    @Override
    public void work01() {

    }

    @Override
    public void work02() {

    }
}
```

**æ€»ç»“**ï¼š

+ æŠ½è±¡ç±»æ˜¯å¯¹äºä¸€ç±»äº‹ç‰©çš„é«˜åº¦æŠ½è±¡ï¼Œå…¶ä¸­æ—¢æœ‰å±æ€§ä¹Ÿæœ‰æ–¹æ³•ã€‚
+ æ¥å£æ˜¯å¯¹æ–¹æ³•çš„æŠ½è±¡ï¼Œä¹Ÿå°±æ˜¯å¯¹ä¸€ç³»åˆ—åŠ¨ä½œçš„æŠ½è±¡ã€‚
+ å½“éœ€è¦å¯¹ä¸€ç±»**äº‹ç‰©æŠ½è±¡**çš„æ—¶å€™ï¼Œåº”è¯¥ä½¿ç”¨**æŠ½è±¡ç±»**ï¼Œä¾¿äºå½¢æˆä¸€ä¸ª**çˆ¶ç±»**ã€‚
+ å½“éœ€è¦å¯¹ä¸€ç³»åˆ—**åŠ¨ä½œæŠ½è±¡**æ—¶ï¼Œå°±ä½¿ç”¨**æ¥å£**ï¼Œéœ€è¦ä½¿ç”¨è¿™äº›åŠ¨ä½œçš„ç±»å»**å®ç°å¯¹åº”çš„æ¥å£**å³å¯ã€‚
+ æ¥å£ä¸­ï¼Œæ— æ³•å®šä¹‰æˆå‘˜å˜é‡ï¼Œä½†æ˜¯å¯ä»¥å®šä¹‰å¸¸é‡ï¼Œå…¶å€¼ä¸å¯ä»¥æ”¹å˜ï¼Œé»˜è®¤ä½¿ç”¨*public static final*ä¿®é¥°ã€‚
+ æ¥å£ä¸­ï¼Œæ²¡æœ‰æ„é€ æ–¹æ³•ï¼Œä¸èƒ½åˆ›å»ºå¯¹è±¡ã€‚
+ æ¥å£ä¸­ï¼Œæ²¡æœ‰é™æ€ä»£ç å—ã€‚

## 9-6 å†…éƒ¨ç±»

æ¦‚å¿µï¼šåœ¨ä¸€ä¸ªç±»ä¸­å®šä¹‰ä¸€ä¸ªç±»ã€‚ä¸¾ä¾‹ï¼šåœ¨ä¸€ä¸ªç±»Açš„å†…éƒ¨å®šä¹‰ä¸€ä¸ªç±»Bï¼Œç±»Bå°±è¢«ç§°ä¸ºå†…éƒ¨ç±»ã€‚

**å†…éƒ¨ç±»çš„è®¿é—®ç‰¹ç‚¹**ï¼š

+ å†…éƒ¨ç±»å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ï¼ŒåŒ…æ‹¬ç§æœ‰
+ å¤–éƒ¨ç±»è¦è®¿é—®å†…éƒ¨ç±»çš„æˆå‘˜ï¼Œå¿…é¡»åˆ›å»ºå¯¹è±¡

```java
public class Test3 {
    int i,j,k;

    class A{
        int i = 4;
        public void setTest3() {
            Test3.this.i = 1;//å†…éƒ¨ç±»è®¿é—®å¤–éƒ¨ç±»
            Test3.this.j = 2;
            Test3.this.k = 3;
        }
    }

    public void setInfo() {
        new A().setTest3();//å¤–éƒ¨ç±»è®¿é—®å†…éƒ¨ç±»
        new A().i = 5;
    }

    public void showInfo() {
        System.out.println(this.i);
        System.out.println(this.j);
        System.out.println(this.k);
    }

    public static void main(String[] args) {
        Test3 test3 = new Test3();
        test3.setInfo();
        test3.showInfo();
    }
}
```

### 9-6-1 æˆå‘˜å†…éƒ¨ç±»

æˆå‘˜å†…éƒ¨ç±»çš„å®šä¹‰ä½ç½®ï¼š

+ åœ¨ç±»ä¸­æ–¹æ³•ï¼Œè·Ÿæˆå‘˜å˜é‡æ˜¯ä¸€ä¸ªä½ç½®

å¤–ç•Œåˆ›å»ºæˆå‘˜å†…éƒ¨ç±»æ ¼å¼ï¼š

+ æ ¼å¼ï¼šå¤–éƒ¨ç±»å.å†…éƒ¨ç±»å å¯¹è±¡å = å¤–éƒ¨ç±»å¯¹è±¡.å†…éƒ¨ç±»å¯¹è±¡;
+ ä¸¾ä¾‹ï¼šOuter.Inner oi = new Outer().new Inner();

æˆå‘˜å†…éƒ¨ç±»çš„**æ¨èä½¿ç”¨æ–¹æ¡ˆ**ï¼š

+ å°†ä¸€ä¸ªç±»ï¼Œè®¾è®¡ä¸ºå†…éƒ¨ç±»çš„ç›®çš„ï¼Œå¤§å¤šæ•°éƒ½æ˜¯ä¸æƒ³è®©å¤–ç•Œå»è®¿é—®ï¼Œæ‰€ä»¥å†…éƒ¨ç±»çš„å®šä¹‰åº”è¯¥ç§æœ‰åŒ–ï¼Œç§æœ‰åŒ–ä¹‹åï¼Œå†æä¾›ä¸€ä¸ªå¯ä»¥è®©å¤–ç•Œè°ƒç”¨çš„æ–¹æ³•ï¼Œæ–¹æ³•å†…éƒ¨åˆ›å»ºå†…éƒ¨ç±»å¯¹è±¡å¹¶è°ƒç”¨ã€‚

```java
package Test.Inner;

/**
 * @author jx
 * @date 2021/8/16
 **/
public class Outer {
    private int a = 1;
    private class Inner{//ç§æœ‰åŒ–å†…éƒ¨ç±»
        public void show() {
            System.out.println(a);
        }
    }

    public void method() {//åˆ›å»ºæ–¹æ³•è°ƒç”¨å†…éƒ¨ç±»
        Inner inner = new Inner();
        inner.show();
    }
}

```

```java
package Test.Inner;

/**
 * @author jx
 * @date 2021/8/16
 **/
public class InnerDemo {
    public static void main(String[] args) {
//        Outer.Inner inner = new Outer().new Inner();
        //å†…éƒ¨ç±»ä¸ºpublicä¿®é¥°æ—¶çš„è°ƒç”¨æ–¹æ³•
//        inner.show();
        Outer outer = new Outer();
        outer.method();
    }
}
```

### 9-6-2 å±€éƒ¨å†…éƒ¨ç±»

å±€éƒ¨å†…éƒ¨ç±»å®šä¹‰ä½ç½®ï¼š

+ å±€éƒ¨å†…éƒ¨ç±»æ˜¯åœ¨**æ–¹æ³•ä¸­å®šä¹‰çš„ç±»**

å±€éƒ¨å†…éƒ¨ç±»æ–¹å¼æ–¹å¼ï¼š

+ å±€éƒ¨å†…éƒ¨ç±»ï¼Œå¤–ç•Œæ˜¯æ— æ³•ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦åœ¨æ–¹æ³•å†…éƒ¨åˆ›å»ºå¯¹è±¡å¹¶ä½¿ç”¨
+ è¯¥ç±»å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ï¼Œä¹Ÿå¯ä»¥è®¿é—®æ–¹æ³•å†…çš„å±€éƒ¨å˜é‡

```java
package Test.LocalInner;

/**
 * @author jx
 * @date 2021/8/16
 **/
public class LocalInner {
    private int n1 = 1;

    public void method() {
        int n2 = 2;
        class Inner{//å±€éƒ¨å†…éƒ¨ç±»ï¼Œåœ¨æ–¹æ³•ä¸­å®šä¹‰
            public void show() {
                System.out.println(n1);
                System.out.println(n2);
            }
        }

        Inner inner = new Inner();
        inner.show();
    }

    public static void main(String[] args) {
        LocalInner li = new LocalInner();
        li.method();
    }
}
```

### 9-6-3 åŒ¿åå†…éƒ¨ç±»

åŒ¿åå†…éƒ¨ç±»çš„å‰æï¼š

+ å­˜åœ¨ä¸€ä¸ªç±»æˆ–è€…æ¥å£ï¼Œè¿™é‡Œçš„ç±»å¯ä»¥æ˜¯å…·ä½“ç±»ä¹Ÿå¯ä»¥æ˜¯æŠ½è±¡ç±»

åŒ¿åå†…éƒ¨ç±»çš„æ ¼å¼ï¼š

+ æ ¼å¼ï¼šnew ç±»å ( ) { é‡å†™æ–¹æ³• } new æ¥å£å ( ) { é‡å†™æ–¹æ³• }

åŒ¿åå†…éƒ¨ç±»çš„æœ¬è´¨ï¼š

+ æœ¬è´¨ï¼šæ˜¯ä¸€ä¸ªç»§æ‰¿äº†è¯¥ç±»æˆ–è€…å®ç°äº†è¯¥æ¥å£çš„å­ç±»åŒ¿åå¯¹è±¡

```java
public class NmInner {
    interface Inter {
        void method();
    }
    public static void main(String[] args) {
        new Inter(){
            @Override
            public void method() {
                System.out.println("method()");
            }
        }.method();
    }
}
```



# day_10

## 10-1 Javaå¼‚å¸¸

+ `error`ï¼šJVMç³»ç»Ÿå†…éƒ¨é”™è¯¯ã€èµ„æºè€—å°½
+ `exception`ï¼š`ArrayIndexOutOfBoundsException`ã€`NullPointerException`ã€`ArithmeticException: / by zero`ã€`ClassCastException`

```java
public class Test {
    public static void main(String[] args) {
        String[] strings = new String[]{"a","b","c"};						System.out.println(strings[3]);
        //ArrayIndexOutOfBoundsExceptionæ•°ç»„è¶Šç•Œå¼‚å¸¸
    }
}
```

```java
public class Test {
    public static void main(String[] args) {
        A a = null;
        System.out.println(a.i);//å¼•ç”¨å˜é‡aæ²¡æœ‰æŒ‡å‘ä»»ä½•å˜é‡
        //NullPointerExceptionç©ºæŒ‡é’ˆå¼‚å¸¸
    }
}
class A{
    int i;
}
```

![](note.assets/IMG_1096.PNG)

## 10-2 å¼‚å¸¸å¤„ç†æœºåˆ¶

```java
try{//ç”¨try{}æ¥æ‹¬ä½å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä»£ç 
    System.out.println(1/0);
} catch (Exception e) {//å½“ä¸çŸ¥é“ä»€ä¹ˆç±»å‹çš„å¼‚å¸¸æ—¶ï¼Œä½¿ç”¨æ‰€æœ‰å¼‚å¸¸çš„çˆ¶ç±»exception
//            e.printStackTrace();//è¾“å‡ºå¼‚å¸¸ï¼Œä¸”ä¸ä¸­æ–­ä»£ç :ç”¨æ¥è¿½è¸ªå¼‚å¸¸äº‹ä»¶å‘ç”Ÿæ—¶æ‰§è¡Œå †æ ˆçš„å†…å®¹
      e.getMessage();//ç”¨æ¥å¾—åˆ°æœ‰å…³å¼‚å¸¸äº‹ä»¶çš„ä¿¡æ¯
} finally {
    //å¯å†™å¯ä¸å†™ï¼Œå®ƒæ˜¯æ•è·å¼‚å¸¸çš„ä½“ç³»æœ€ç»ˆä¸€æ®µæ‰§è¡Œçš„éƒ¨åˆ†ã€‚
}
```

```java
public class Test02 {
    public static void main(String[] args) {
        int[] arr = new int[]{1,2,3};
        B b = null;
        try{
            System.out.println(arr[3]);
            //å¦‚æœå‰ä¸€æ®µä»£ç æœ‰å¼‚å¸¸ï¼Œå°±ä¸ä¼šç»§ç»­æ‰§è¡Œ
            System.out.println(b.i);
        } catch (ArrayIndexOutOfBoundsException e1) {
            e1.printStackTrace();
        } catch (NullPointerException e2) {
            e2.printStackTrace();
        }
//å¤šä¸ªcatchï¼Œå¤šæ¬¡æ•è· 
        System.out.println("=====");
    }
}
class B{
    int i;
}
```

```java
public class Test03 {
    public static void main(String[] args) throws Exception {
        //åœ¨mainæ–¹æ³•ä¸­æŠ›å‡ºå¼‚å¸¸ç›´æ¥æŠ›åˆ°è™šæ‹Ÿæœºä¸Šå»äº†ï¼Œåœ¨ç¨‹åºä¸­ä¸èƒ½å¤„ç†
        C c = new C();
//        try {//throwsåœ¨ä»£ç å¤„æŠ›å‡ºçš„å¼‚å¸¸ï¼Œåœ¨è°ƒç”¨æ–¹æ³•å»æ•è·
//            c.test();
//        } catch (Exception e) {
//            e.printStackTrace();
//        }
        c.test();
    }
}

class C{
    int i;
    public void test() throws Exception{//å¯ä»¥ä½¿ç”¨throwsåœ¨ä»£ç å¤„æŠ›å‡ºå¼‚å¸¸ï¼Œåœ¨è°ƒç”¨æ–¹æ³•å»æ•è·å¼‚å¸¸
        C c = null;
        System.out.println(c.i);
    }
}
```

+ å­ç±»æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ä¸èƒ½å¤§äºçˆ¶ç±»è¢«é‡å†™æ–¹æ³•çš„å¼‚å¸¸ã€‚

```java
class C{
    int i;//NullPointerExceptionçš„çˆ¶ç±»æ—¶Exception
    public void test() throws NullPointerException{//å¯ä»¥ä½¿ç”¨throwsåœ¨ä»£ç å¤„æŠ›å‡ºå¼‚å¸¸ï¼Œåœ¨è°ƒç”¨æ–¹æ³•å»æ•è·å¼‚å¸¸
        C c = null;
        System.out.println(c.i);
    }
}

class D extends C{
    @Override
    public void test() throws Exception {//æŠ¥é”™
        //
    }
}
```

### 10-2-1 äººå·¥æŠ›å‡ºå¼‚å¸¸

```java
public void test0(int age) throws Exception {
     if (age >=0 && age <= 150) {
         System.out.println("å¹´é¾„ï¼š" + age);
     } else {
         throw new Exception("å¹´é¾„åº”åœ¨0~150");
     }
}
```

åˆ›å»ºç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ç±»...

## 10-3 Collectioné›†åˆ

> é›†åˆæ˜¯ç”¨æ¥å­˜æ”¾å¯¹è±¡çš„å®¹å™¨ã€‚

+ é›†åˆåªèƒ½å­˜æ”¾å¯¹è±¡ã€‚
+ é›†åˆå­˜æ”¾çš„æ˜¯å¤šä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå¯¹è±¡æœ¬èº«è¿˜æ˜¯åœ¨å †å†…å­˜ä¸­å­˜æ”¾ã€‚
+ é›†åˆå¯ä»¥å­˜æ”¾ä¸åŒç±»å‹ï¼Œä¸é™æ•°é‡çš„æ•°æ®ç±»å‹ã€‚

é›†åˆï¼š`Vector`ã€`ArrayList`ã€`LinkedList`ã€`TreeSet`ã€`HashSet`ã€`LinkedListSet`

**Listæ¥å£**ï¼š

+ æœ‰åºçš„é›†åˆï¼ˆå­˜å‚¨å’Œå–å‡ºå…ƒç´ é¡ºåºç›¸åŒï¼‰
+ å…è®¸å­˜å‚¨é‡å¤å…ƒç´ 
+ æœ‰ç´¢å¼•ï¼Œå¯ä»¥ä½¿ç”¨æ™®é€šçš„foriå¾ªç¯

**Setæ¥å£**ï¼š

+ ä¸å…è®¸å­˜å‚¨é‡å¤å…ƒç´ 
+ æ²¡æœ‰ç´¢å¼•ï¼Œå°±ä¸èƒ½ä½¿ç”¨æ™®é€šforiå¾ªç¯éå†

**Collectionæ¥å£**ï¼šå®šä¹‰çš„æ˜¯ä½¿ç”¨å•åˆ—é›†åˆä¸­å…±æ€§çš„æ–¹æ³•ï¼Œæ‰€æœ‰å•åˆ—é›†åˆéƒ½å¯ä»¥ä½¿ç”¨çš„å…±æ€§æ–¹æ³•ï¼Œæ²¡æœ‰å¸¦ç´¢å¼•çš„æ–¹æ³•ã€‚

java.util.Collectionæ¥å£ï¼šæ‰€æœ‰å•åˆ—é›†åˆæœ€é¡¶å±‚çš„æ¥å£ï¼Œé‡Œé¢å®šä¹‰äº†æ‰€æœ‰å•åˆ—é›†åˆå…±æ€§çš„æ–¹æ³•ï¼Œä»»æ„çš„å•åˆ—é›†åˆéƒ½å¯ä»¥ä½¿ç”¨Collectionæ¥å£ä¸­çš„æ–¹æ³•ã€‚

+ `public boolean add(E e)`
+ `public boolean clear()`
+ `public boolean remove(E e)`
+ `public boolean contains(E e)`
+ `public boolean isEmpty()`
+ `public int size()`
+ `public Object[] toArray()`

Javaé›†åˆåˆ†ä¸ºSetã€Listã€Map.

### 10-3 Setæ¥å£

ç»§æ‰¿Collectionæ¥å£ã€‚ç”±å“ˆå¸Œè¡¨ç»“æ„æ”¯æŒã€‚

+ ä¸å…è®¸å­˜å‚¨é‡å¤å…ƒç´ ã€‚
+ æ²¡æœ‰ç´¢å¼•ï¼Œæ²¡æœ‰å¸¦ç´¢å¼•æ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨foriå¾ªç¯éå†ã€‚

#### 10-3-0 hashCode()

å“ˆå¸Œè¡¨ï¼šæ˜¯ä¸€ä¸ªåè¿›åˆ¶çš„æ•´æ•°ï¼Œç”±ç³»ç»Ÿéšæœºç»™å‡ºï¼ˆå°±æ˜¯å¯¹è±¡çš„åœ°å€å€¼ï¼Œæ˜¯ä¸€ä¸ªé€»è¾‘åœ°å€ï¼Œæ˜¯æ¨¡æ‹Ÿå‡ºæ¥å¾—åˆ°çš„åœ°å€ï¼Œä¸æ˜¯æ•°æ®å®é™…å­˜å‚¨çš„ç‰©ç†åœ°å€ï¼‰ã€‚

åœ¨Objectç±»ä¸­æœ‰ä¸€ä¸ªè·å–hashå€¼çš„æ–¹æ³•ï¼š`public native int hashCode();`

**native**ä»£è¡¨è¯¥æ–¹æ³•è°ƒç”¨çš„æ˜¯æœ¬åœ°æ“ä½œç³»ç»Ÿçš„æ–¹æ³•ã€‚

toString()æ–¹æ³•çš„æºç ï¼š`public native int hashCode();`

Stringç±»çš„å“ˆå¸Œå€¼ï¼šStringç±»é‡å†™äº†Objectç±»çš„hashCode()æ–¹æ³•ï¼Œä½¿å¾—ç›¸åŒå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ç›¸åŒã€‚

**å“ˆå¸Œè¡¨ = æ•°ç»„ + é“¾è¡¨ ï¼›**

**å“ˆå¸Œè¡¨ = æ•°ç»„ + çº¢é»‘æ ‘ ã€‚**

#### 10-3-1 HashSet

å®ç°Setæ¥å£ã€‚

+ ä¸å¯é‡å¤
+ ä¸èƒ½ä¿è¯æ’åˆ—é¡ºåº(æ ¹æ®`hashCode`å†³å®š)

ä¸ºäº†ä¿è¯åœ¨å­˜å‚¨**å¼•ç”¨æ•°æ®ç±»å‹**æ—¶ä¸é‡å¤ï¼Œéœ€è¦é‡å†™`equals()` å’Œ `hashCode()`æ–¹æ³•ã€‚

```java
        Set set = new HashSet();

        set.add(1);//æ·»åŠ å…ƒç´ 
        set.add("a");

        set.remove(1);//ç§»é™¤å…ƒç´ 

        System.out.println(set.contains("a"));//åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨
        
        set.clear();//æ¸…ç©ºå…ƒç´ 

        System.out.println(set);
```

```java
//ä½¿ç”¨è¿­ä»£å™¨éå†é›†åˆ
        Iterator it = set.iterator();
        while (it.hasNext()) {
            System.out.println(it.next());
        }
```

```java
 //for eachè¿­ä»£é›†åˆ
        for (Object obj: set) {
            System.out.println(obj);
        }
```

```java
//è·å–é›†åˆå…ƒç´ ä¸ªæ•°
        System.out.println(set.size());
```

```java
//åˆ¤æ–­æ˜¯å¦ä¸ºç©º
        System.out.println(set.isEmpty());
```

HashSeté›†åˆ**åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰**çš„æ ‡å‡†ï¼š

ä¸¤ä¸ªå¯¹è±¡é€šè¿‡**equals()æ–¹æ³•**æ¯”è¾ƒç›¸ç­‰ï¼Œå¹¶ä¸”ä¸¤ä¸ªå¯¹è±¡çš„**hashCode()æ–¹æ³•è¿”å›çš„å€¼**ä¹Ÿç›¸ç­‰ã€‚

```java
//ä½¿ç”¨æ³›å‹ï¼šé›†åˆåªå­˜å‚¨åŒæ ·ç±»å‹çš„å¯¹è±¡
        Set<String> set1 = new HashSet<String>();

        set1.add("a");
```

#### 10-3-2 LinkedHashSeté›†åˆ

> æœ‰åºï¼Œä¸å¯é‡å¤ã€‚
>
> æ˜¯HashSetçš„å­ç±»ï¼Œæ–¹æ³•ä¸HashSeté›†åˆç›¸åŒã€‚

#### 10-3-3 TreeeSet

> æœ‰åºã€ä¸å¯é‡å¤ã€‚

```java
Set<Integer> set = new TreeSet<Integer>();
//TreeSetè‡ªç„¶æ’åº
set.add(1);
set.remove(1);
set.contains(1);
set.clear();
set.isEmpty();
//è¿­ä»£å™¨
Iterator<Integer> it = set.iterator();
while (it.hasNext()) {
    System.out.println(it.next());
}
for (Integer i :set
    ) {
        System.out.println(i);
}
```

> å¿…é¡»æ”¾å…¥ç»Ÿä¸€ç±»å‹å˜é‡ã€‚

æ„å›¾ï¼šæƒ³è¦è®©TreeSetæŒ‰Personçš„ageæ’åºæ€ä¹ˆåŠï¼Ÿ

**å®šåˆ¶æ’åº**ï¼šéœ€è¦åœ¨åˆ›å»º`TreeSet`é›†åˆæ—¶ï¼Œæä¾›ä¸€ä¸ª`Comparator`æ¥å£å®ç°çš„ç±»å¯¹è±¡ã€‚

```java
import java.util.Comparator;

public class Person implements Comparator<Person> {//ä¸€ä¸ªComparatoræ¥å£å®ç°çš„ç±»å¯¹è±¡
    int age;
    String name;

    public Person() {
    }

    public Person(int age, String name) {
        this.age = age;
        this.name = name;
    }
    //æƒ³è¦è®©TreeSetæŒ‰Personçš„ageæ’åº
    @Override
    public int compare(Person o1, Person o2) {
        if(o1.age > o2.age) {
            return 1;
        } else if(o1.age < o2.age){
            return -1;
        } else
            return 0;
    }
}
```

```java
import java.util.Set;
import java.util.TreeSet;

public class Test03 {
    public static void main(String[] args) {
        Person p1 = new Person(25, "zjx");
        Person p2 = new Person(22, "zju");
        Person p3 = new Person(21, "zjr");
        Person p4 = new Person(23, "zjq");

        Set<Person> set = new TreeSet<Person>(new Person());

        set.add(p1);
        set.add(p2);
        set.add(p3);
        set.add(p4);

        for (Person p: set
             ) {
            System.out.println(p.name + ":  " + p.age);
        }
    }
}
```

### 10-4 Listæ¥å£

+ å…ƒç´ **æœ‰åº**ä¸”**å¯é‡å¤**ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ‰ç›¸åº”çš„**ç´¢å¼•**ã€‚
+ å­˜å‚¨çš„å…ƒç´ å’Œå–å‡ºçš„å…ƒç´ é¡ºåºæ˜¯ä¸€è‡´çš„ã€‚

```java
		//åˆ›å»ºå…ƒç´ 
        List<String> list1 = new ArrayList<String>();
        List<String> list2 = new ArrayList<String>();
        //æ·»åŠ å…ƒç´ 
        list1.add("a");
        list1.add("c");
        list1.add("d");
        list1.add("b");
        list1.add("g");
        list1.add("d");

        list2.add("1");
        list2.add("2");
        list2.add("3");
        //åœ¨æŒ‡å®šç´¢å¼•ä½ç½®æ’å…¥æ•°æ®
        list1.add(1, "a");
        //åœ¨æŒ‡å®šç´¢å¼•ä½ç½®æ’å…¥æ•´ä¸ªlist
        list1.addAll(1, list2);
        //é€šè¿‡ç´¢å¼•æŸ¥çœ‹å…ƒç´ 
        System.out.println(list1.get(0));
        //è·å–æŒ‡å®šå…ƒç´ åœ¨é›†åˆä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ä¸‹æ ‡
        System.out.println(list1.indexOf("d"));
        //è·å–æŒ‡å®šå…ƒç´ åœ¨é›†åˆä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ä¸‹æ ‡
        System.out.println(list1.lastIndexOf("d"));
        //ç§»é™¤å…ƒç´ ï¼šç§»é™¤æŒ‡å®šå…ƒç´ æˆ–æŒ‡å®šç´¢å¼•å…ƒç´ 
        list1.remove("a");
        list1.remove(1);
        //æ ¹æ®æŒ‡å®šç´¢å¼•ä¸‹æ ‡ä¿®æ”¹å…ƒç´ 
        list1.set(1, "aa");
        //æˆªå–å…ƒç´ å½¢æˆæ–°çš„é›†åˆ
        List<String> subList = list1.subList(1, 4);
        System.out.println(subList);
```

#### 10-4-1 ArrayListé›†åˆ

å®ç°Listæ¥å£ï¼Œå…ƒç´ **æœ‰åº**ä¸”**å¯é‡å¤**ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ‰ç›¸åº”çš„**ç´¢å¼•**ã€‚

**å¢åˆ æ…¢ï¼ŒæŸ¥æ‰¾å¿«ã€‚**

æ•°ç»„é•¿åº¦ä¸å¯ä»¥æ”¹å˜ï¼Œä½†æ˜¯ArrayListé•¿åº¦å´å¯ä»¥ä»»æ„å˜åŒ–ã€‚

```java
ArrayList<æ³›å‹> list = new ArrayList<>();//JDK1.7å¼€å§‹ï¼Œå³ä¾§<>å·ä¸­å¯ä»¥ä¸å†™å†…å®¹
```

å¯¹äºArrayListé›†åˆï¼Œç›´æ¥æ‰“å°å¾—åˆ°çš„æ˜¯å†…å®¹ï¼Œè€Œä¸æ˜¯åœ°å€å€¼ã€‚

å¦‚æœå†…å®¹ä¸ºç©ºï¼Œåˆ™æ‰“å°`[]`ã€‚

**å¸¸ç”¨æ–¹æ³•**

+ `public boolean add(E e)`ï¼šå‘é›†åˆä¸­æ·»åŠ å…ƒç´ ï¼Œå‚æ•°ç±»å‹ä¸æ³›å‹ä¸€è‡´ã€‚
+ `public E get(int index)`ï¼šè¯»å–å…ƒç´ ï¼Œç´¢å¼•å€¼ä»0å¼€å§‹ã€‚
+ `public E remove(int index)`ï¼šåˆ é™¤å…ƒç´ 
+ `public int size()`ï¼šè¿”å›é›†åˆå…ƒç´ ä¸ªæ•°

#### 10-4-2 LinkedListé›†åˆ 

> åº•å±‚ç”±åŒå‘é“¾è¡¨å®ç°ã€‚

+ å®ç°Listæ¥å£ï¼Œå…ƒç´ **æœ‰åº**ä¸”**å¯é‡å¤**ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ‰ç›¸åº”çš„**ç´¢å¼•**ã€‚

+ **æŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ã€‚**

+ **æ–¹ä¾¿æ·»åŠ ã€åˆ é™¤é¦–å°¾å…ƒç´ ã€‚**

æ³¨æ„ï¼šä½¿ç”¨LinkedListé›†åˆ**ç‰¹æœ‰æ–¹æ³•**æ—¶ï¼Œä¸èƒ½ä½¿ç”¨å¤šæ€ã€‚

**ç‰¹æœ‰æ–¹æ³•**ï¼š

+ `public void addFirst(E e)`
+ `public void addLast(E e)`
+ `public E getFirst()`
+ `public E getLast()`
+ `public E removeFirst()`
+ `public E removeLast()`
+ `public E pop()`
+ `public void push(E e)`
+ `public boolean isEmpty()`

### 10-3-7 Collectionså·¥å…·ç±»

> å®šä¹‰äº†ä¸€äº›é™æ€æ–¹æ³•ï¼Œç”¨äºæ“ä½œé›†åˆã€‚

+ `public static <T> bollean addAll(Collection<T> c, T... elements)`ï¼šå¾€é›†åˆcä¸­æ·»åŠ ä¸€äº›å…ƒç´ ã€‚

+ `public static void shuffle(List<?> list)`ï¼šéšæœºæ’åºã€‚

+ `public static <T> void sort(List<T> list)`ï¼šæŒ‰ç…§é»˜è®¤è§„åˆ™æ’åºã€‚**é»˜è®¤æ˜¯å‡åº**

  > æ³¨æ„ï¼šä½¿ç”¨è‡ªå®šä¹‰å¯¹è±¡æ—¶å¿…é¡»å®ç°`Comparable`æ¥å£ï¼Œé‡å†™`compareTo`()æ–¹æ³•ï¼Œå³é‡å†™æ’åºçš„è§„åˆ™ã€‚
  >
  > è§„åˆ™ï¼š
  >
  > +  å‡åºï¼šthis - å‚æ•°
  > +  é™åºï¼šå‚æ•° - this

  ```java
  package day_10.List;
  
  public class Person implements Comparable<Person>{
      private int age;
      private String name;
      
      public Person() {
      }
  
      public Person(int age, String name) {
          this.age = age;
          this.name = name;
      }
  
      @Override
      public String toString() {
          return "Person{" +
                  "age=" + age +
                  ", name='" + name + '\'' +
                  '}';
      }
  
      public int getAge() {
          return age;
      }
  
      public void setAge(int age) {
          this.age = age;
      }
  
      public String getName() {
          return name;
      }
  
      public void setName(String name) {
          this.name = name;
      }
  
      @Override
      public int compareTo(Person o) {
  //        return 0;//è®¤ä¸ºå…ƒç´ éƒ½æ˜¯ç›¸åŒçš„
          //æ ¹æ®è‡ªå®šä¹‰æ¯”è¾ƒçš„è§„åˆ™ï¼Œæ¯”è¾ƒä¸¤ä¸ªäººçš„å¹´é¾„ï¼ˆthis, å‚æ•°Personï¼‰
          return this.getAge() - o.getAge();
         
      }
  }
  ```

+ `public static <T> void sort(List<T> list, Comparator<? super T>)`ï¼šå°†é›†åˆä¸­çš„å…ƒç´ æŒ‰ç…§æŒ‡å®šè§„åˆ™æ’åºã€‚æ­¤å¤„ä¸º`Comparator`ï¼Œä¸ä¸Šä¸€ä¸ª`sort`()æ–¹æ³•çš„`Comparable`ä¸åŒã€‚

  ```java
  ArrayList<Integer> list01 = new ArrayList<>();
          list01.add(1);
          list01.add(3);
          list01.add(1);
          list01.add(2);
          list01.add(0);
          System.out.println(list01);
          Collections.sort(list01, new Comparator<Integer>() {
              @Override
              public int compare(Integer o1, Integer o2) {
                  return o1 - o2;//å‡åºï¼Œåä¹‹ä¸ºé™åº
              }
          });
          System.out.println(list01);
  ```

äº‹ä¾‹ï¼š

```java
LinkedHashSet<String> set = new LinkedHashSet<>();
Collections.addAll(set, "a", "b", "c");

List<String> list = new ArrayList<>();
Collections.shuffle(list);
Collections.sort(list);
```

## 10-4 Mapé›†åˆ

ç‰¹ç‚¹ï¼š

+ `Map`ç”±äºä¿å­˜æ˜ å°„æ•°æ®ã€‚æœ‰`key`å’Œ`value`ï¼Œ ä¸€ä¸€å¯¹åº”ã€‚äºŒè€…çš„æ•°æ®ç±»å‹å¯ä»¥ä¸åŒã€‚
+ å¯ä»¥æ—¶ä»»ä½•å¼•ç”¨ç±»å‹æ•°æ®ï¼Œ`key`ä¸å…è®¸é‡å¤ï¼Œè€Œ`value`å¯ä»¥é‡å¤ã€‚
+ ä¸ä¿è¯é¡ºåºã€‚

### 10-4-2 HashMap

**å“ˆå¸Œè¡¨ = æ•°ç»„ + å•é¡¹é“¾è¡¨ ï¼›**

**å“ˆå¸Œè¡¨ = æ•°ç»„ + çº¢é»‘æ ‘ ã€‚**

ç‰¹ç‚¹ï¼š

+ å®ç°Map<k, v>æ¥å£ã€‚
+ åº•å±‚ç”±å“ˆå¸Œè¡¨å®ç°ï¼šæŸ¥è¯¢é€Ÿåº¦å¿«ã€‚
+ **æ— åº**ã€‚
+ çº¿ç¨‹ä¸å®‰å…¨ï¼Œå³å¤šçº¿ç¨‹ã€‚

æ–¹æ³•ï¼š

+ `public V put(K key, V value)`ï¼šå°†é”®å€¼å¯¹æ·»åŠ ï¼Œå¹¶**è¿”å›valueå€¼**ã€‚
+ `public V remove(Object key)`ï¼šåˆ é™¤é”®ä¸ºkeyçš„é”®å€¼å¯¹ï¼Œå¹¶**è¿”å›valueå€¼**ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›`null`ã€‚
+ `public V get(Object key)`ï¼šè·å–é”®ä¸ºkeyçš„é”®å€¼å¯¹ï¼Œå¹¶**è¿”å›valueå€¼**ã€‚
+ `public boolean ContainsKey(Object key)`ï¼šåˆ¤æ–­é”®ä¸ºkeyçš„é”®å€¼å¯¹æ˜¯å¦å­˜åœ¨ã€‚
+ `public Set<K> keySet()`ï¼šè¿”å›æ‰€æœ‰é”®ï¼Œå¹¶å­˜å‚¨åˆ°Seté›†åˆä¸­ã€‚
+ `public Set<Map.Entry<K, V>> entrySet()`ï¼šè¿”å›æ‰€æœ‰é”®å€¼å¯¹**å¯¹è±¡**ï¼Œå¹¶å­˜å‚¨åˆ°Seté›†åˆä¸­ã€‚

**Entryé”®å€¼å¯¹å¯¹è±¡**ï¼šEntryæ—¶Mapä¸­çš„å†…éƒ¨æ¥å£ã€‚

ä½œç”¨ï¼šå½“Mapé›†åˆä¸€åˆ›å»ºï¼Œé‚£ä¹ˆåœ¨Mapé›†åˆä¸­å°±ä¼šåˆ›å»ºä¸€ä¸ªEntryå¯¹è±¡ï¼Œç”¨äºè®°å½•é”®ä¸å€¼ï¼ˆé”®å€¼å¯¹å¯¹è±¡ï¼Œé”®ä¸å€¼çš„æ˜ å°„å…³ç³»ï¼‰ã€‚

Entryä¸­çš„æ–¹æ³•ï¼š`getKey()` & `getValue()`

äº‹ä¾‹ï¼š

```java
//åˆ›å»ºMap
        Map<String, Integer> map = new HashMap<>();
        //æ·»åŠ æ•°æ®
        map.put("a", 1);
        map.put("b", 2);
        map.put("c", 3);
        map.put("d", 4);
        System.out.println(map);
        //æ ¹æ®keyå–å€¼
        System.out.println(map.get("a"));
        //æ ¹æ®keyç§»é™¤é”®å€¼å¯¹ï¼Œè¿”å›å¯¹åº”valueï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›null
        System.out.println(map.remove("d"));
        //Mapé›†åˆçš„é•¿åº¦
        System.out.println(map.size());
        //åˆ¤æ–­Mapé›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šçš„key
        System.out.println(map.containsKey("a"));
        //åˆ¤æ–­Mapé›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šçš„value
        System.out.println(map.containsValue(10));
        //è·å–Mapé›†åˆçš„keyï¼Œå¹¶å­˜å‚¨åˆ°Seté›†åˆä¸­
        System.out.println(map.keySet());
        //è·å–Mapé›†åˆçš„value
        Collection<Integer> values = map.values();
        for (Integer value : values) {
            System.out.println(value);
        }
        //é€šè¿‡Map.keySet()éå†Map
        for (String s : map.keySet()) {
            System.out.println(map.get(s));
        }
        //é€šè¿‡Map.entrySet()éå†ï¼Œå…ˆè·å–Entryå¯¹è±¡çš„Seté›†åˆ
        Set<Map.Entry<String, Integer>> entrys = map.entrySet();
        for (Map.Entry<String, Integer> entry : entrys) {
            System.out.println("key: " + entry.getKey() + " value: " + entry.getValue());
        }
```

**HashMapå­˜å‚¨è‡ªå®šä¹‰çš„é”®å€¼å¯¹**ï¼šç”±äºè¦ä¿è¯`key`å”¯ä¸€ï¼Œæ‰€ä»¥è‡ªå®šä¹‰çš„ç±»éœ€è¦**é‡å†™**`equals()` å’Œ `hashCode()`æ–¹æ³•ã€‚

#### 10-4-2-1 å¯¹HashMapè¿›è¡Œæ’åº

**æŒ‰keyè¿›è¡Œæ¯”è¾ƒ**

å¯¹åç§°è¿›è¡Œæ’åº,é¦–å…ˆè¦å¾—åˆ°HashMapä¸­é”®çš„é›†åˆ(keySet),å¹¶è½¬æ¢ä¸ºæ•°ç»„,è¿™æ ·æ‰èƒ½ç”¨Arrays.sort()è¿›è¡Œæ’åº.

```java
//å¯¹HashMapæŒ‰keyå€¼è¿›è¡Œæ’åº
public static void sort1(HashMap<String, Integer> map) {
    Set<String> set = map.keySet();//è·å–keyå€¼é›†åˆ
    Object[] array = set.toArray();//è½¬æ¢æˆæ•°ç»„
    Arrays.sort(array);//ç”¨Arrays.sort([])æ–¹æ³•è¿›è¡Œæ’åº
    for (Object o : array) {
        System.out.println(o);
    }
}
```

**æŒ‰valueè¿›è¡Œæ¯”è¾ƒ**

å°†entrySetè½¬æ¢ä¸ºList,ç„¶åé‡å†™æ¯”è¾ƒå™¨æ¯”è¾ƒå³å¯.è¿™é‡Œå¯ä»¥ä½¿ç”¨List.sort(comparator),ä¹Ÿå¯ä»¥ä½¿ç”¨Collections.sort(list,comparator).

```JAVA
//å¯¹HashMapæŒ‰valueå€¼è¿›è¡Œæ’åº
public static void sor2(HashMap<String, Integer> map) {
    List<Map.Entry<String, Integer>> list = new ArrayList<Map.Entry<String, Integer>>(map.entrySet());
    //æ–¹æ³•ä¸€
    Collections.sort(list, new Comparator<Map.Entry<String, Integer>>() {
     @Override
     public int compare(Map.Entry<String, Integer> o1, Map.Entry<String, Integer> o2) {
            return o1.getValue() - o2.getValue();
         }
     });
    //æ–¹æ³•äºŒ
    list.sort(new Comparator<Map.Entry<String, Integer>>() {
     @Override
     public int compare(Map.Entry<String, Integer> o1, Map.Entry<String, Integer> o2) {
            return o1.getValue() - o2.getValue();
            }
       });
```

### 10-4-3 LinkedHashMap

+ ç»§æ‰¿HashMapã€‚
+ **æœ‰åº**ï¼šå­˜çš„é¡ºåºå’Œå–çš„é¡ºåºä¸€è‡´ã€‚

**TreeMap**

+ æ‰€æœ‰çš„`key`åº”è¯¥æ˜¯åŒä¸€ä¸ªç±»ã€‚
+ è‡ªç„¶æ’åºæŒ‡çš„æ˜¯å­—å…¸æ’åºã€‚

**Hashtable**

+ åº•å±‚ä¹Ÿæ˜¯å“ˆå¸Œè¡¨ã€‚
+ çº¿ç¨‹å®‰å…¨ï¼Œå³å•çº¿ç¨‹ã€‚
+ ä¸èƒ½å­˜å‚¨nullå€¼å’Œnullé”®ï¼Œè€Œå…¶ä½™é›†åˆå¯ä»¥ã€‚
+ å’ŒVectoré›†åˆä¸€æ ·è¢«å–ä»£äº†ã€‚
+ å…¶å­ç±»**Properties**ä¾ç„¶ä½¿ç”¨ï¼Œæ˜¯å”¯ä¸€å’ŒIOæµç›¸ç»“åˆçš„é›†åˆã€‚
+ 

## 10-5 å¸¸ç”¨API

### 10-5-1 Math

+ Mathç±»ä¸­æ— æ„é€ æ–¹æ³•ï¼Œä½†å†…éƒ¨çš„æ–¹æ³•éƒ½æ˜¯é™æ€çš„ï¼Œåˆ™å¯ä»¥é€šè¿‡ ç±»å.è¿›è¡Œè°ƒç”¨

### 10-5-2 System

æ–¹æ³•åè¯´æ˜:

+ `public static void exit(int status)` ï¼šç»ˆæ­¢å½“å‰è¿è¡Œçš„ Java è™šæ‹Ÿæœºï¼Œéé›¶è¡¨ç¤ºå¼‚å¸¸ç»ˆæ­¢
+ `public static long currentTimeMillis()`ï¼š è¿”å›å½“å‰æ—¶é—´(ä»¥æ¯«ç§’ä¸ºå•ä½)

### 10-5-3 Objectç±»çš„toString()æ–¹æ³•

æ”¹å†™`toString()`æ–¹æ³•ï¼š

ä»¥è‰¯å¥½çš„æ ¼å¼ï¼Œæ›´æ–¹ä¾¿çš„å±•ç¤ºå¯¹è±¡ä¸­çš„å±æ€§å€¼ã€‚

```java
public class People{
    int age;
    String name;
    String gender;
    
	@Override
    public String toString() {
        return "Class{" +
                "age=" + age +
                ", name='" + name + '\'' +
                ", gender='" + gender + '\'' +
                '}';
    }
}
```

### 10-5-4 Objectç±»çš„equals()æ–¹æ³•

æ”¹å†™equals()æ–¹æ³•ï¼š

```java
@Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        NmInner nmInner = (NmInner) o;
        return age == nmInner.age && Objects.equals(name, nmInner.name) && Objects.equals(gender, nmInner.gender);
    }
```

## 10-6 Iteratorè¿­ä»£å™¨

è¿­ä»£ï¼šå³Collectioné›†åˆå…ƒç´ çš„é€šç”¨è·å–æ–¹å¼ã€‚

æ¥å£åœ¨æ­¤å¤„ä¹Ÿç§°è¿­ä»£å™¨ã€‚

> Iteratorè¿­ä»£å™¨æ˜¯ä¸€ä¸ªæ¥å£ï¼Œæ— æ³•ç›´æ¥ä½¿ç”¨ã€‚éœ€è¦ä½¿ç”¨Iteratoræ¥å£çš„å®ç°ç±»å¯¹è±¡ã€‚
>
> Collectionæ¥å£ä¸­æœ‰ä¸€ä¸ªiterator()æ–¹æ³•ï¼Œè¿”å›è¿­ä»£å™¨çš„å®ç°ç±»å¯¹è±¡ã€‚

æˆå‘˜æ–¹æ³•ï¼š

+ `pulic boolean hasNext()`ï¼šå¦‚æœä»æœ‰å…ƒç´ å¯ä»¥è¿­ä»£ï¼Œåˆ™è¿”å›trueã€‚
+ `public E next()`ï¼šè¿”å›è¿­ä»£çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚
+ `public void remove()`ï¼šä¸€å¤„é›†åˆæœ€åä¸€ä¸ªå…ƒç´ ã€‚

ä½¿ç”¨äº‹ä¾‹ï¼š

```java
//åˆ›å»ºé›†åˆ
Collection<String> list = new ArrayList<>();
list.add("a");list.add("b");list.add("c");list.add("d");
//ä½¿ç”¨iterator()è·å–é›†åˆä¸­çš„Iteratoræ¥å£å®ç°ç±»å¯¹è±¡
Iterator<String> iterator = list.iterator();
//ä½¿ç”¨hasNext()åˆ¤æ–­
while (iterator.hasNext()) {
    //ä½¿ç”¨next()è·å–å…ƒç´ 
    System.out.println(iterator.next());
}

//å¦ä¸€ç§æ–¹å¼
for (Iterator<String> iterator1 = list.iterator();iterator1.hasNext();) {
    System.out.println(iterator1.next());
}
```



# day11

## 11-1 æ³›å‹

æ³›å‹æ˜¯ä¸€ç§æœªçŸ¥çš„æ•°æ®ç±»å‹ï¼Œå½“æˆ‘ä»¬*ä¸çŸ¥é“ä½¿ç”¨ä»€ä¹ˆæ•°æ®ç±»å‹*æ—¶å°±å¯ä»¥ä½¿ç”¨ã€‚

> è§£å†³æ•°æ®ç±»å‹å®‰å…¨æ€§é—®é¢˜ã€‚

+ æ³›å‹åªåœ¨ç¼–è¯‘é˜¶æ®µæœ‰æ•ˆï¼Œæ³›å‹ä¸ä¼šè¿›å…¥åˆ°è¿è¡Œæ—¶é˜¶æ®µã€‚

```java
 List<Integer> list = new ArrayList<Integer>();
//åœ¨åˆ›å»ºæ—¶å°±ä¼šç¡®å®šæ³›å‹çš„æ•°æ®ç±»å‹
```

### 11-1-1 æ³›å‹æ–¹æ³•

æ ¼å¼ï¼š

```java
ä¿®é¥°ç¬¦ <æ³›å‹> è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°[ä½¿ç”¨æ³›å‹]) {}
```

å®ä¾‹ï¼š

```java
/*æ³›å‹æ–¹æ³•*/
public class Test2 {
    public static void main(String[] args) {
        S<Object> s = new S<Object>();
        s.test2("a", "v", 1, 3, 1);
    }
}

class S<E> {//ç±»ä¸­å®šä¹‰æ³›å‹
    private E e;
    //é™æ€æ–¹æ³•ä¸èƒ½ä½¿ç”¨ç±»å®šä¹‰çš„æ³›å‹
    public static void test3() {
        //System.out.println(e);
    }
    //å«æœ‰æ³›å‹çš„æ™®é€šæ–¹æ³•
    public <T> void test(T t) {
        System.out.println(t);
    }

    public <T> T test1(T t) {
        return t;
    }
	//ä»»æ„å¤šä¸ªå‚æ•°
    public <T> void test2(T... ts) {
        for (T t: ts) {
            System.out.println(t);
        }
    }
}
```

### 11-1-2 æ³›å‹æ¥å£

/*æœªä¼ å…¥æ³›å‹å®å‚æ—¶ï¼Œä¸æ³›å‹ç±»çš„å®šä¹‰ç›¸åŒï¼Œåœ¨å£°æ˜ç±»çš„æ—¶å€™ï¼Œéœ€å°†æ³›å‹çš„å£°æ˜ä¸€èµ·åŠ å…¥åˆ°ç±»ä¸­*/

```java
interface IB<T> {
    T test(T t);
}
/*æœªä¼ å…¥æ³›å‹å®å‚æ—¶ï¼Œä¸æ³›å‹ç±»çš„å®šä¹‰ç›¸åŒï¼Œåœ¨å£°æ˜ç±»çš„æ—¶å€™ï¼Œéœ€å°†æ³›å‹çš„å£°æ˜ä¸€èµ·åŠ å…¥åˆ°ç±»ä¸­*/
class B1<T> implements IB<T> {

    @Override
    public T test(T t) {
        return t;
    }
}
//è°ƒç”¨æ—¶ä¸ç”¨æŒ‡å®šæ³›å‹ï¼Œå…·æœ‰æ³›å·²ç»æŒ‡å®šå¥½äº†
class B2 implements IB<String> {

    @Override
    public String test(String s) {
        return s + "æŒ‡å®šæ³›å‹";
    }
}	
```

### 11-1-3 æ³›å‹é€šé…ç¬¦

å½“ä½¿ç”¨æ³›å‹æˆ–æ¥å£æ—¶ï¼Œä¼ é€’çš„æ•°æ®ä¸­ï¼Œæ³›å‹çš„ç±»å‹ä¸ç¡®å®šï¼Œå¯ä»¥é€šè¿‡é€šé…ç¬¦<?>è¡¨ç¤ºã€‚ä½†æ˜¯ä¸€æ—¦ä½¿ç”¨æ³›å‹çš„é€šé…ç¬¦åï¼Œåªèƒ½ä½¿ç”¨Objectç±»ä¸­çš„å…±æ€§æ–¹æ³•ï¼Œé›†åˆä¸­å…ƒç´ è‡ªèº«æ–¹æ³•æ— æ³•ä½¿ç”¨ã€‚

> ä¸ç¡®å®šé›†åˆä¸­å…ƒç´ å…·ä½“çš„æ•°æ®ç±»å‹ï¼›
>
> ä½¿ç”¨`ï¼Ÿ`è¡¨ç¤ºæ‰€æœ‰ç±»å‹ï¼›
>
> æ­¤æ—¶åªèƒ½æ¥å—æ•°æ®ï¼Œä¸èƒ½å¾€è¯¥é›†åˆä¸­å­˜å‚¨æ•°æ®ã€‚

**æœ‰é™çš„é€šé…ç¬¦**

```java
//åªå…è®¸æ³›å‹ä¸ºPersonåŠPersonå­ç±»çš„å¼•ç”¨è°ƒç”¨
<? extends Person>
//åªå…è®¸æ³›å‹ä¸ºPersonåŠPersonçˆ¶ç±»çš„å¼•ç”¨è°ƒç”¨
<? super Person>
//åªå…è®¸æ³›å‹ä¸ºComparableæ¥å£çš„å®ç°ç±»çš„å¼•ç”¨è°ƒç”¨
<? extends IA>
//IAä¸ºæ¥å£
```

## 11-2 æšä¸¾

```java
public class Test {
    public static void main(String[] args) {
        Season.SPRING.showInfo();//æ¯æ¬¡æ‰§è¡ŒSeason.SPRINGè·å¾—çš„æ˜¯ç›¸åŒçš„å¯¹è±¡ï¼Œæšä¸¾ç±»æ¯ä¸ªæšä¸¾éƒ½æ˜¯å•ä¾‹æ¨¡å¼ã€‚
    }
}

enum Season {
    //ç›¸å½“äºè°ƒç”¨æ„é€ æ–¹æ³•
    SPRING("Spring", "A"),//æ³¨æ„æ­¤å¤„ä¸ºé€—å·
    SUMMER("Summer", "B"),
    AUTUMN("Autumn", "C"),
    WINTER("Winter", "D");

    private final String NAME;
    private final String DESC;

    Season(String NAME, String DESC) {
        this.NAME = NAME;
        this.DESC = DESC;
    }

    public void showInfo() {
        System.out.println(this.NAME + ", " + this.DESC);
    }
}
```

### 11-2-1 å®ç°æ¥å£

```java
enum Season1 implements IA{
    @Override
    public void test() {
        
    }
}
```

## 11-3 æ³¨è§£

+ `@Override`: é‡å†™
+ `@Deprecated`ï¼šå·²è¿‡æ—¶
+ `@SuppressWarnings`: æŠ‘åˆ¶ç¼–è¯‘å™¨è­¦å‘Š

### 11-3-1 è‡ªå®šä¹‰æ³¨è§£

```java
@Target(ElementType.FIELD)//è¡¨ç¤ºè¿™ä¸ªæ³¨è§£ç±»ç»™å…¶ä»–ç±»çš„å±æ€§åšæ³¨è§£
@Retention(RetentionPolicy.RUNTIME)//è¡¨ç¤ºå®šä¹‰æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ
@interface TestAnn {
    public int id() default 0;
    
    public String desc() default "";
}   

class A {
    @TestAnn(id=1, desc = "abc")
    String name;
}
```

## 11-4 åŒ…è£…ç±»

### 11-4-1 æ¦‚å¿µ

æˆ‘ä»¬æƒ³æŠŠåŸºæœ¬æ•°æ®ç±»å‹å˜æˆå¼•ç”¨æ•°æ®ç±»å‹ä½¿ç”¨ï¼Œå°±å¯ä»¥ä½¿ç”¨åŸºæœ¬ç±»å‹å¯¹åº”çš„åŒ…è£…ç±»ã€‚

| åŸºæœ¬ç±»å‹ | åŒ…è£…ç±»(java.langåŒ…ä¸­) |
| -------- | --------------------- |
| byte     | Byte                  |
| short    | Short                 |
| int      | **Integer**           |
| long     | Long                  |
| float    | Float                 |
| double   | Double                |
| char     | **Character**         |
| boolean  | Boolean               |

### 11-4-2 è£…ç®±ä¸æ‹†ç®±

**è£…ç®±**ï¼šåŸºæœ¬æ•°æ®ç±»å‹-->åŒ…è£…ç±»

æ„é€ æ–¹æ³•ï¼š

+ `Integer(int value)`
+ `Integer(String s)` så¿…é¡»æ˜¯intç±»å‹

é™æ€æ–¹æ³•ï¼š

+ `static Integer valueOf(int i)`
+ `static Integer valueOf(String s)`

**æ‹†ç®±**ï¼šåŒ…è£…ç±»-->åŸºæœ¬æ•°æ®ç±»å‹

æˆå‘˜æ–¹æ³•ï¼š

+ `int intValue()`

ä½¿ç”¨äº‹ä¾‹ï¼š

```java
Integer in1 = new Integer(1);
Integer in2 = new Integer("1");
Integer in3 = Integer.valueOf(1);
Integer in4 = Integer.valueOf("1");
int i = in4.intValue();
```

### 11-4-3 è‡ªåŠ¨è£…ç®±ä¸è‡ªåŠ¨æ‹†ç®±

åŸºæœ¬æ•°æ®ç±»å‹ä¸åŒ…è£…ç±»ä¹‹é—´å¯ä»¥**è‡ªåŠ¨**çš„ç›¸äº’è½¬æ¢ã€‚

```java
Integer in5 = 1;//è‡ªåŠ¨è£…ç®±
int i5 = in5;//è‡ªåŠ¨æ‹†ç®±
```

### 11-4-4 åŸºæœ¬æ•°æ®ç±»å‹ä¸Stringç±»å‹çš„ç›¸äº’è½¬æ¢

åŸºæœ¬æ•°æ®ç±»å‹-->Stringï¼š

+ **åŸºæœ¬æ•°æ®å€¼ + ""**
+ ä½¿ç”¨åŒ…è£…ç±»çš„é™æ€æ–¹æ³•ï¼š`staic String toString(int i)`
+ Stringç±»ä¸­çš„é™æ€æ–¹æ³•ï¼š`static String valueOf(int i)`

```java
String s = Integer.toString(1);
String s1 = String.valueOf(1);
String s2 = 1 + "";
```

String-->åŸºæœ¬æ•°æ®ç±»å‹ï¼š

+ ä½¿ç”¨åŒ…è£…ç±»çš„é™æ€æ–¹æ³•ï¼š`static int parseInt(String s)` så¿…é¡»ä¸ºå¯¹åº”çš„åŸºæœ¬æ•°æ®ç±»å‹

```java
int i1 = Integer.parseInt("1");
```

# day_12

## 12-1 Fileç±»å¯¹è±¡

javaæŠŠç”µè„‘ä¸­çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ˆç›®å½•ï¼‰å°è£…ä¸ºä¸€ä¸ª**Fileç±»**ã€‚

Fileç±»æ˜¯ä¸€ä¸ªä¸ä»»ä½•ç³»ç»Ÿæ— å…³çš„ç±»ï¼Œä»»ä½•æ“ä½œç³»ç»Ÿéƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªç±»ä¸­çš„æ–¹æ³•ã€‚

+ `file`ï¼šæ–‡ä»¶
+ `directory`ï¼šæ–‡ä»¶å¤¹/ç›®å½•
+ `path`ï¼šè·¯å¾„

```java
//æ–‡ä»¶è¯»å–çš„æ–¹å¼
//pathnameçš„ä¸åŒå†™æ³•
File f1 = new File("D:\\LEARN\\java\\Java_new_learning\\src\\day_12\\a.txt");
File f2 = new File("D:\\LEARN\\java\\Java_new_learning\\src", "day_12\\a.txt");
File f3 = new File("D:/LEARN/java/Java_new_learning/src/day_12/a.txt");
File f4 = new File("D:" + File.separator + "/LEARN/java/Java_new_learning/src/day_12/a.txt");
File f5 = new File("day_12/a.txt");
```

+ ```java
  //è·å–æ–‡ä»¶åç§°æˆ–æ–‡ä»¶å¤¹åç§°
  f.getName();
  ```

+ ```java
  //è·å–æ–‡ä»¶è·¯å¾„æˆ–æ–‡ä»¶åï¼Œå°±æ˜¯new Fileæ—¶å†™çš„è·¯å¾„
  f.getPath();
  ```

+ ```java
  //è·å–ç»å¯¹è·¯å¾„
  f.getAbsolutePath();
  ```

+ ```java
  //è·å–ç”¨å½“å‰æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„æ„å»ºçš„Fileå¯¹è±¡
  f.getAbsoluteFile();
  ```

+ ```java
  //è¿”å›å½“å‰æ–‡ä»¶å¤¹åç§°æˆ–çˆ¶çº§è·¯å¾„
  f.getParent();
  ```

+ ```java
  //ç»™æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹é‡å‘½å
  f.renameTo(new File(pathname));
  ```

+ ```java
  //åˆ¤æ–­æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨
  f.exists();
  ```

+ ```java
  //åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯è¯»
  f.canRead();
  ```

+ ```java
  //åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯å†™
  f.canWrite();
  ```

+ ```java
  //åˆ¤æ–­å½“å‰fileå¯¹è±¡æ˜¯ä¸æ˜¯æ–‡ä»¶
  f.isFile();
  ```

+ ```java
  //åˆ¤æ–­å½“å‰fileå¯¹è±¡æ˜¯ä¸æ˜¯æ–‡ä»¶å¤¹æˆ–ç›®å½•
  f.isDirectory();
  ```

+ ```java
  //è·å–æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´
  f.lastModified();
  ```

+ ```java
  //è·å–æ–‡ä»¶é•¿åº¦
  f.length();
  ```

+ ```java
  File f = new File(pathname);//åˆ›å»ºæ–‡ä»¶
  ```

+ ```java
  if(!f.exists()) {//åˆ¤æ–­æ˜¯å¦å­˜åœ¨
      try {
          f.createNewFile();//åˆ›å»ºæ–°çš„æ–‡ä»¶
      } catch (IOException e) {
          e.printStackTrace();
      }
  }
  ```

+ ```java
  f.delete();//åˆ é™¤æ–‡ä»¶
  ```

+ ```java
  File f = new File("D:\\test");
  f.mkdir();//åˆ›å»ºå•å±‚ç›®å½•
  ```

+ ```java
  File f1 = new File("D:\\test\\a\\b\\c\\d");
  f1.mkdirs();//åˆ›å»ºå¤šå±‚ç›®å½•
  ```

+ ```java
  for (String s: f.list()//è¿”å›å½“å‰æ–‡ä»¶å¤¹çš„å­é›†ï¼ŒåŒ…æ‹¬ç›®å½•å’Œæ–‡ä»¶å¤¹
       ) {
      System.out.println(s);
  }
  ```

+ ```java
  for (File s: f.listFiles()//è¿”å›å½“å‰æ–‡ä»¶å¤¹çš„å­é›†çš„è·¯å¾„
       ) {
      System.out.println(s);
  }
  ```

  **æ–‡ä»¶æœç´¢**ï¼š
  
  ```java
  public static void test(File f) {//é€’å½’éå†ç›®å½•å’Œæ–‡ä»¶
      if (f.isFile()) {
          System.out.println(f.getAbsolutePath() + " is a file.");
      } else {
          System.out.println(f.getAbsolutePath() + " is a directory.");
          File[] files = f.listFiles();
          if(files != null && files.length > 0) {
              for (File ff: files
                   ) {
                  test(ff);
              }
          }
      }
  }
  ```
  
  

## 12-3 æ–‡ä»¶å­—èŠ‚æµ

**è¯»å–æ–‡ä»¶**

```java
public static void testFileInputStream() {
    try
    {
FileInputStream in = new FileInputStream("D:\\Test\\IMG_1127.jpg");
byte[] b = new byte[1000000];//è®¾ç½®ä¸€ä¸ªbyteæ•°ç»„è¯»å–æ–‡ä»¶çš„å†…å®¹

//in.read(b);
//in.readæ–¹æ³•æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œè¿”å›å€¼æ˜¯è¯»å–çš„æ•°æ®çš„é•¿åº¦ï¼Œå¦‚æœè¯»å–åˆ°æœ€åä¸€ä¸ªæ•°æ®ï¼Œå°±ä¼šè¿”å›-1
int len = 0;
while ((len = in.read(b)) != -1) {
System.out.println(new String(b, 0, len));
//new String(b, 0, len)å‚æ•°1æ˜¯ç¼“å†²æ•°æ®çš„æ•°ç»„ï¼Œå‚æ•°2æ˜¯å¼€å§‹è½¬åŒ–å­—ç¬¦ä¸²çš„ä½ç½®ï¼Œå‚æ•°3æ˜¯æ€»å…±è½¬æ¢çš„å­—ç¬¦æ•°
     }
//            System.out.println(new String(b));
in.close();//ä½¿ç”¨åéœ€è¦å…³é—­
     } catch (Exception e) {
          e.printStackTrace();
     }
```

**å†™å…¥æ–‡ä»¶**

```java
public static void testFileOutputStream() {
    try {
        FileOutputStream out = new FileOutputStream("D:\\Test\\a.txt");
        String str = new String("a");
        out.write(str.getBytes());//æŠŠæ•°æ®å†™é“å†…å­˜
        out.flush();//æŠŠå†…å­˜ä¸­çš„æ•°æ®åˆ·å†™åˆ°ç¡¬ç›˜
        out.close();//å…³é—­æµ
    } catch (Exception e) {
        e.printStackTrace();
    }
}
```

**å¤åˆ¶æ–‡ä»¶**

```java
public static void copyFile(String inPath, String outPath) {
    try {//æ–‡ä»¶ã€å›¾ç‰‡éƒ½å¯
        FileInputStream in = new FileInputStream(inPath);
        FileOutputStream out = new FileOutputStream(outPath);

        byte[] b = new byte[100000000];

        int len = 0;

        while ((len = in.read(b)) != -1) {
            out.write(b, 0, len);//å†™å…¥æ–‡ä»¶ï¼Œå‚æ•°1è¡¨ç¤ºè¦å†™å…¥çš„ç¼“å†²æ•°ç»„ï¼Œå‚æ•°2æ˜¯æ•°ç»„å¼€å§‹çš„ä½ç½®ï¼Œå‚æ•°3æ˜¯ç»“æŸçš„ä½ç½®
        }

        out.flush();
        out.close();
    } catch (Exception e) {
        e.printStackTrace();
    }
}
```

## 12-4 æ–‡ä»¶å­—ç¬¦æµ

**è¯»å–æ–‡ä»¶**

```java
public static void testFileReader(String inPath) {
    try {
        //åˆ›å»ºæ–‡ä»¶å­—ç¬¦è¾“å…¥æµçš„å¯¹è±¡
        FileReader fr = new FileReader(inPath);

        char[] ch = new char[1024];//åˆ›å»ºå­—ç¬¦æ•°ç»„

        int len = 0;

        while ((len = fr.read(ch)) != -1) {
            System.out.println(new String(ch, 0, len));
            //å­—ç¬¦åï¼Œå¼€å§‹ä½ç½®ï¼Œç»“æŸä½ç½®
        }

        fr.close();
    } catch (Exception e) {
        e.printStackTrace();
    }
}
```

**å†™å…¥æ–‡ä»¶**

```java
public static void testFileWriter(String text, String outPath) {
    try {
        FileWriter fw = new FileWriter(outPath);

        fw.write(text);//å†™åˆ°å†…å­˜

        fw.flush();//åˆ·å…¥ç¡¬ç›˜

        fw.close();//å…³é—­æµ
    } catch (Exception e) {
        e.printStackTrace();
    }
}
```

**å¤åˆ¶æ–‡ä»¶**

```java
public static void copyFile(String inPath, String outPath) {//æ–‡ä»¶å­—ç¬¦
    try {
        FileReader fr = new FileReader(inPath);
        FileWriter fw = new FileWriter(outPath);

        char[] ch = new char[1024];

        int len = 0;

        while ((len = fr.read(ch)) != -1) {
            fw.write(ch, 0, len);
        }

        fw.flush();

        fw.close();
        fr.close();
    } catch (Exception e) {
        e.printStackTrace();
    }
}
```

## 12-5 ç¼“å†²å­—èŠ‚æµ

**è¯»å–æ–‡ä»¶**

```java
public static void testBufferedInputStream() throws Exception {
    //åˆ›å»ºæ–‡ä»¶å­—èŠ‚è¾“å…¥æµå¯¹è±¡
    FileInputStream in = new FileInputStream("D:/Test/a.txt");
    //æŠŠæ–‡ä»¶å­—èŠ‚è¾“å…¥æµæ”¾åˆ°ç¼“å†²å­—èŠ‚è¾“å…¥æµå¯¹è±¡
    BufferedInputStream br = new BufferedInputStream(in);

    byte[] b = new byte[1024];

    int len = 0;

    while ((len = br.read(b)) != -1) {
        System.out.println(new String(b, 0, len));
    }

    //å…³é—­æµæ—¶ï¼šæœ€æ™šå¼€çš„æœ€æ—©å…³ï¼Œä¾æ¬¡å…³
    br.close();
    in.close();
}
```

**å†™å…¥æ–‡ä»¶**

```java
public static void testBufferedOutputStream(String text, String outPath) throws Exception {
    //åˆ›å»ºå­—èŠ‚è¾“å‡ºæµå¯¹è±¡
    FileOutputStream out = new FileOutputStream(outPath);
    //æŠŠå­—èŠ‚è¾“å‡ºæµæ”¾åˆ°ç¼“å­˜å­—èŠ‚è¾“å‡ºæµä¸­
    BufferedOutputStream bo = new BufferedOutputStream(out);

    bo.write(text.getBytes());

    bo.flush();
    bo.close();
    out.close();
}
```

**å¤åˆ¶æ–‡ä»¶**

```java
public static void copyFile(String inPath, String outPath) throws Exception {
   	BufferedInputStream bi = new BufferedInputStream(new               FileInputStream(inPath));
    BufferedOutputStream bo = new BufferedOutputStream(new FileOutputStream(outPath));

    byte[] b = new byte[1024];
    int len = 0;
    while((len = bi.read(b)) != -1) {
        bo.write(b, 0, len);
    }

    bo.close();
    bi.close();

}
```

## 12-6 ç¼“å†²å­—ç¬¦æµ

**è¯»å–æ–‡ä»¶**

```java
public static void testBufferedFileReader(String inPath) throws Exception {
    //æŠŠæ–‡ä»¶å­—ç¬¦æµå†™å…¥ç¼“å­˜å­—ç¬¦æµä¸­
    BufferedReader br = new BufferedReader(new FileReader(inPath));
    char[] ch = new char[100];
    int len = 0;
    while ((len = br.read(ch)) != -1) {
        System.out.println(new String(ch, 0, len));
    }
    br.close();
}
```

**å†™å…¥æ–‡ä»¶**

```java
public static void testBufferedFileWriter(String text, String outPath) throws Exception {
    //æŠŠæ–‡ä»¶å­—ç¬¦æµå†™å…¥ç¼“å­˜å­—ç¬¦æµä¸­
    BufferedWriter bw = new BufferedWriter(new FileWriter(outPath));
    bw.write(text);
    bw.flush();
    bw.close();
}
```

**å¤åˆ¶æ–‡ä»¶**

```java
public static void copyFile(String inPath, String outPath) throws Exception {
    BufferedReader br = new BufferedReader(new FileReader(inPath));
    BufferedWriter bw = new BufferedWriter(new FileWriter(outPath));

    char[] ch = new char[100];
    int len = 0;
    while ((len = br.read(ch)) != -1) {
        bw.write(ch);
    }

    bw.flush();
    bw.close();
    br.close();
}
```

## 12-7 è½¬æ¢æµ

/*è½¬æ¢å­—èŠ‚è¾“å…¥æµä¸ºå­—ç¬¦è¾“å…¥æµ*/

```java
public static void testInputStreamReader() throws Exception{
    FileInputStream fs = new FileInputStream("D:/Test/a.txt");
    InputStreamReader in = new InputStreamReader(fs, StandardCharsets.UTF_8);

    char[] c = new char[100];
    int len = 0;
    while ((len = in.read(c)) != -1) {
        System.out.println(new String(c, 0, len));
    }

    in.close();
    fs.close();
}
```

/*è½¬æ¢å­—èŠ‚è¾“å‡ºæµä¸ºå­—ç¬¦è¾“å‡ºæµ*/

```java
public static void testOutputStreamWriter(String Path) throws Exception {
    
    OutputStreamWriter os = new OutputStreamWriter(new FileOutputStream(Path), StandardCharsets.UTF_8);
    os.write("abc");

    os.flush();
    os.close();

}
```

## 12-8 æ ‡å‡†è¾“å…¥è¾“å‡ºæµ

```java
public static void writeToFile(String outPath) throws Exception {
    //åˆ›å»ºä¸€ä¸ªæ¥å—é”®ç›˜è¾“å…¥æ•°æ®çš„è¾“å…¥æµ
    InputStreamReader is = new InputStreamReader(System.in);

    //æŠŠè¾“å…¥æµæ”¾åˆ°ç¼“å†²æµé‡Œ
    BufferedReader br = new BufferedReader(is);

    //åˆ›å»ºç¼“å†²è¾“å‡ºæµ
    BufferedWriter bw = new BufferedWriter(new FileWriter(outPath));

    String str = "";

    while ((str = br.readLine()) != null) {
        if (!str.equals("exit")) {
            bw.write(str);
        } else {
            break;
        }
    }
```



# day_14

## 14-1 åå°„

> <u>åå°„æœºåˆ¶</u>ï¼šé€šè¿‡ä¸€ä¸ªæŠ½è±¡çš„ç±»åèƒ½å¤Ÿåœ¨**åŠ è½½ç±»çš„å†…å­˜**ä¸­æ‰¾åˆ°ç›¸åŒ¹é…çš„ç±»çš„å…·ä½“ä¿¡æ¯ã€‚

åå°„çš„å‰æï¼š

+ å·²ç»åŠ è½½è¿‡è¿™ä¸ªç±»ï¼Œé€šè¿‡ç±»åå¯»æ‰¾è¿™ä¸ªç±»çš„æ‰€æœ‰ç›¸å…³ä¿¡æ¯ã€‚

### 14-1-1 å®ä¾‹åŒ–Classç±»å¯¹è±¡çš„ä¸‰ç§æ–¹æ³•

```java
//é€šè¿‡ç±»å.classåˆ›å»ºæŒ‡å®šç±»çš„Classå®ä¾‹
Class c1 = Person.class;
```

```java
//é€šè¿‡ä¸€ä¸ªç±»çš„å®ä¾‹å¯¹è±¡çš„getClass()æ–¹æ³•ï¼Œè·å–å¯¹åº”å®ä¾‹å¯¹è±¡çš„ç±»çš„Classå®ä¾‹
Class c2 = p.getClass();
```

```java
/é€šè¿‡Classçš„é™æ€æ–¹æ³•forName(String className)æ¥è·å–ä¸€ä¸ªç±»çš„Classå®ä¾‹
//classNameæ˜¯æŒ‡ä½ è¦è·å–çš„classå®ä¾‹çš„ç±»çš„å…¨è·¯å¾„(åŒ…å.ç±»å)
try {
    Class c3 = Class.forName("day_14.Person");
} catch (Exception e) {
    e.printStackTrace();
}
```

### 14-1-2 è·å–ä¸€ä¸ªç±»çš„çˆ¶ç±»å’Œæ¥å£

```java
Class clazz = Class.forName("day_14.Student");//è·å–Classå®ä¾‹
```

```java
Class superClazz = clazz.getSuperclass();//è·å–çˆ¶ç±»
System.out.println(superClazz.getName());
```

```java
Class[] interfaces = clazz.getInterfaces();//è·å–æ¥å£ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„
for (Class c:interfaces) {
    System.out.println(c.getName());
}
```

### 14-1-3 è·å–ä¸€ä¸ªç±»çš„å…¨éƒ¨æ„é€ å™¨

```java
//è·å–ç±»çš„å…¬æœ‰æ„é€ å™¨ï¼Œè¿”å›Constructorsç±»å‹æ•°ç»„
Constructor[] c = clazz.getConstructors();
for (Constructor constructor:c
             ) {
	System.out.println(constructor);//è¾“å‡ºæ„é€ å™¨ï¼ŒåŒ…æ‹¬äº†ä¿®é¥°ç¬¦ã€æ–¹æ³•åã€æ‰€æœ‰å‚æ•°åŠå…¶ç±»å‹
	System.out.println(constructor.getModifiers());//è¾“å‡ºæ„é€ å™¨çš„ä¿®é¥°ç¬¦(1ä»£è¡¨public, 2ä»£è¡¨private)
	System.out.println(constructor.getName());//è¾“å‡ºæ„é€ å™¨çš„æ–¹æ³•å
    
    Class[] paramClazz = constructor.getParameterTypes();//è¿”å›æ„é€ å™¨çš„å‚æ•°ç±»å‹
                for (Class p:paramClazz
                     ) {
                    System.out.println(p);
                }
    
}
```

```java
//è·å–ç±»çš„æ‰€æœ‰æ„é€ å™¨ï¼Œè¿”å›Constructorsç±»å‹æ•°ç»„
Constructor[] c1 = clazz.getDeclaredConstructors();
for (Constructor constructor:c1)
	System.out.println(constructor.getModifiers());//è¾“å‡ºæ„é€ å™¨çš„ä¿®é¥°ç¬¦(1ä»£è¡¨public, 2ä»£è¡¨private)
```

## 14-2 åå°„åˆ›å»ºå¯¹è±¡

```java
Class clazz = Class.forName("day_14.Student");
```

```java
//ç›¸å½“äºè°ƒç”¨ç±»çš„æ— å‚å…¬æœ‰æ„é€ æ–¹æ³•
Object obj = clazz.newInstance();
Student stu = (Student) obj;
```

```java
//ç›¸å½“äºè°ƒç”¨ç±»çš„æœ‰ä¸€ä¸ªå‚æ•°ï¼ˆStringç±»å‹ï¼‰ä¸”å…¬æœ‰æ„é€ æ–¹æ³•
Constructor c = clazz.getConstructor(String.class);
Student stu1 = (Student) c.newInstance("abc");
```

```java
//é€šè¿‡åå°„æœºåˆ¶ï¼Œå¯ä»¥å¼ºåˆ¶è°ƒç”¨ç§æœ‰æ„é€ æ–¹æ³•
Constructor c1 = clazz.getDeclaredConstructor(int.class, String.class);

c1.setAccessible(true);//è§£é™¤ç§æœ‰å°è£…

Student stu2 = (Student) c1.newInstance(10, "aaa");
```

## 14-3 åå°„æœºåˆ¶è·å–ç±»çš„æ–¹æ³•

### 14-3-1 getMethods()**æ–¹æ³•**

```java
Class clazz = Class.forName("day_14.Student");
//è·å–ç±»çš„æ‰€æœ‰å…¬æœ‰(public)æ–¹æ³•
Method[] ms = clazz.getMethods();

for (Method m:ms
     ) {
    System.out.println("æ–¹æ³•åï¼š" + m.getName());
    System.out.println("è¿”å›å€¼ç±»å‹ï¼š" + m.getReturnType());
    System.out.println("ä¿®é¥°ç¬¦ï¼š" + m.getModifiers());

    Class[] pcs = m.getParameterTypes();
    if(pcs != null && pcs.length > 0) {
        for (Class c:pcs
             ) {
            System.out.println("å‚æ•°ç±»å‹ï¼š" + c.getName());
        }
    }

    System.out.println("-------------------------------");
}
```

### 14-3-2 getDeclaredMethods()æ–¹æ³•

```java
Class clazz = Class.forName("day_14.Student");
//è·å–æ‰€æœ‰çš„å…¬æœ‰ç§æœ‰æ–¹æ³•
Method[] ms = clazz.getDeclaredMethods();

for (Method m: ms
     ) {
    System.out.println("æ–¹æ³•åï¼š" + m.getName());
    System.out.println("è¿”å›å€¼ç±»å‹" + m.getReturnType());
    System.out.println("ä¿®é¥°ç¬¦ï¼š" + m.getModifiers());

    Class[] cs = m.getParameterTypes();
    for (Class c:cs
         ) {
        System.out.println("å‚æ•°åç§°ï¼š" + c.getName());
    }

    System.out.println("---------------------");
```

## 14-4 åå°„æœºåˆ¶è·å–ç±»çš„å±æ€§å’ŒåŒ…

### 14-4-1 getFields()

```java
//è·å–æ‰€æœ‰publicçš„å±æ€§å’ŒåŒ…
Class clazz = Class.forName("day_14.Student");
        Field[] fs = clazz.getFields();
        for (Field f : fs
        ) {
            System.out.println("å±æ€§åï¼š" + f.getName());
            System.out.println("ä¿®é¥°ç¬¦ï¼š" + f.getModifiers());
            System.out.println("å±æ€§ç±»å‹ï¼š" + f.getType());
            
            Package p = clazz.getPackage();
            System.out.println("å±æ€§æ‰€åœ¨çš„åŒ…ï¼š" + p.getName());
            System.out.println("-------------------------");
        }
```

### 14-4-2 getDeclaredFileds()

```java
//è·å–æ‰€æœ‰å±æ€§å’ŒåŒ…
Field[] fs = clazz.getDeclaredFields();
```

## 14-5 åå°„æœºåˆ¶è°ƒç”¨æŒ‡å®šæ–¹æ³•

```java
Class clazz = Class.forName("day_14.Student");
Object obj = clazz.getConstructor().newInstance();
//å¾—åˆ°åç§°æ˜¯test,å‚æ•°ç±»å‹ä¸ºStringçš„æ–¹æ³•,è°ƒç”¨å…¬æœ‰æ–¹æ³•
Method m = clazz.getMethod("test", String.class);
m.invoke(obj, "åœ¨è¿›è¡Œ");//objæ˜¯éœ€è¦å®ä¾‹åŒ–çš„å¯¹è±¡ï¼Œåé¢çš„å‚æ•°æ˜¯è°ƒç”¨çš„æ–¹æ³•æ‰€éœ€çš„å‚æ•°

//è°ƒç”¨ç§æœ‰æ–¹æ³•
Method m1 = clazz.getDeclaredMethod("test1", int.class);
m.setAccessible(true);//æ¥è§¦ç§æœ‰æ–¹æ³•å°è£…
m1.invoke(obj, 1);
```

```java
//è°ƒç”¨æœ‰è¿”å›å€¼çš„æ–¹æ³•
Method m2 = clazz.getMethod("getSchool");//æ²¡æœ‰å‚æ•°ï¼Œä¸å¡«
String str = (String) m2.invoke(obj);
System.out.println(str);
```

## 14-6 åå°„æœºåˆ¶è°ƒç”¨æŒ‡å®šå±æ€§

```java
Class clazz = Class.forName("day_14.Student");
//åå°„åˆ›å»ºä¸€ä¸ªå¯¹è±¡
Student stu = (Student) clazz.getConstructor().newInstance();

//è®¿é—®å…¬æœ‰å±æ€§
Field f = clazz.getField("b");
f.set(stu, "ç¬¬ä¸€");//å¯¹å±æ€§è®¾ç½®å€¼
System.out.println((String) f.get(stu));
```

```java
//è®¿é—®ç§æœ‰å±æ€§
Field f1 = clazz.getDeclaredField("school");
f1.setAccessible(true);//è§£é™¤ç§æœ‰å°è£…
f1.set(stu, "ooo");
System.out.println((String) f1.get(stu));
```

# day_15

## 15-1 çº¿ç¨‹ä¸è¿›ç¨‹

**è¿›ç¨‹**æ˜¯æŒ‡ä¸€ä¸ªå†…å­˜ä¸­è¿è¡Œçš„**åº”ç”¨ç¨‹åº**ã€‚

**çº¿ç¨‹**(thread)ï¼Œè¿›ç¨‹å¯è¿›ä¸€æ­¥ç»†åŒ–ä¸ºçº¿ç¨‹ï¼Œæ˜¯ä¸€ä¸ªç¨‹åºå†…éƒ¨çš„ä¸€æ¡æ‰§è¡Œè·¯å¾„ã€‚

ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚cpuåœ¨å¤šä¸ªçº¿ç¨‹ä¸­é«˜é€Ÿåˆ‡æ¢ã€‚

å¹¶å‘ä¸å¹¶è¡Œï¼š

**å¹¶å‘**ï¼šæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶é—´æ®µå†…å‘ç”Ÿã€‚

**å¹¶è¡Œ**ï¼šæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿï¼ˆå³åŒæ—¶å‘ç”Ÿï¼‰ã€‚

çº¿ç¨‹è°ƒåº¦ï¼š

+ åˆ†æ—¶è°ƒåº¦

  æ‰€æœ‰çº¿ç¨‹è½®æµä½¿ç”¨CPUçš„ä½¿ç”¨æƒï¼Œå¹³å‡åˆ†é…ç¾å›½çº¿ç¨‹å ç”¨CPUçš„æ—¶é—´ï¼Œ

+ æŠ¢å å¼è°ƒåº¦
  ä¼˜å…ˆè®©ä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹ä½¿ç”¨CPUï¼Œå¦‚æœçº¿ç¨‹çš„ä¼˜å…ˆçº§ç›¸åŒï¼Œé‚£ä¹ˆä¼šéšæœºé€‰æ‹©ä¸€ä¸ªï¼ˆçº¿ç¨‹éšæœºæ€§ï¼‰ï¼Œ**Javaä½¿ç”¨çš„æ˜¯æŠ¢å å¼è°ƒåº¦ã€‚**

## 15-2 å¤šçº¿ç¨‹

JVMæ‰§è¡Œmainæ–¹æ³•ï¼Œæ‰¾OSå¼€è¾Ÿä¸€æ¡mainæ–¹æ³•ï¼Œé€šå‘cpuçš„è·¯å¾„ï¼Œè¿™æ¡è·¯å¾„å°±æ˜¯ä¸»çº¿ç¨‹ã€‚

ä¸»çº¿ç¨‹ï¼šæ‰§è¡Œmainæ–¹æ³•çš„çº¿ç¨‹ã€‚

å•çº¿ç¨‹ç¨‹åºï¼šä»mainæ–¹æ³•å¼€å§‹ï¼Œä»ä¸Šåˆ°ä¸‹æ‰§è¡Œã€‚

+ ç¨‹åºåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡
+ ç¨‹åºæ‰§è¡Œéœ€è¦ç­‰å¾…çš„ä»»åŠ¡
+ éœ€è¦ä¸€äº›åå°è¿è¡Œçš„ç¨‹åº

### 15-2-1 ç»§æ‰¿threadç±»å®ç°å¤šçº¿ç¨‹

/*ç»§æ‰¿Threadæ–¹å¼å®ç°å¤šçº¿ç¨‹*/

```java
//step1:åˆ›å»ºThreadç±»çš„å­ç±»
public class TestThread extends Thread{
    @Override//step2:é‡å†™Threadç±»ä¸­çš„run()æ–¹æ³•
    public void run() {
        System.out.println("å¤šçº¿ç¨‹è¿è¡Œçš„ä»£ç ");
        for(int i = 0; i < 5;i++) {
            System.out.println("è¿™æ˜¯å¤šçº¿ç¨‹çš„é€»è¾‘ä»£ç ï¼š" + i);
        }
    }
}
```

```java
//step3:åˆ›å»ºå­ç±»å¯¹è±¡
Thread t1 = new TestThread();
//step4:æ‰§è¡Œstart()æ–¹æ³•
t1.start();//å¯åŠ¨çº¿ç¨‹,å¼€å§‹è¿è¡Œrunæ–¹æ³•ä¸­çš„ä»£ç 
//ç»“æœæ˜¯ä¸¤ä¸ªçº¿ç¨‹å¹¶å‘åœ°è¿è¡Œï¼›å½“å‰çº¿ç¨‹ï¼ˆmainçº¿ç¨‹ï¼‰å’Œå¦ä¸€ä¸ªçº¿ç¨‹ï¼ˆåˆ›å»ºæ–°çº¿ç¨‹ï¼Œæ‰§è¡Œå…¶runæ–¹æ³•ï¼‰ã€‚
//å¤šæ¬¡å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æ˜¯éæ³•çš„ã€‚ç‰¹åˆ«æ˜¯æ”¾çº¿ç¨‹å·²ç»ç»“æŸæ‰§è¡Œåï¼Œä¸èƒ½å†é‡æ–°å¯åŠ¨ã€‚
for (int i = 0; i < 10; i++) {
     System.out.println("main: " + i);
}
```

> å¤šçº¿ç¨‹ä»£ç çš„å¼‚æ­¥æ€§ï¼ˆç›¸å¯¹äºæ‰§è¡Œt.start()çš„mainç¨‹åºï¼‰ï¼šæ§åˆ¶å°è¾“å‡ºçš„ç»“æœæ˜¯ç¨‹åºå¹¶è¡Œè¿è¡Œçš„ç»“æœæ€»å’Œã€‚

å¤šçº¿ç¨‹å›¾è§£ï¼šæ¯æ‰§è¡Œä¸€ä¸ªstart()æ–¹æ³•å°±ä¼šå¼€è¾Ÿä¸€ä¸ªæ–°çš„æ ˆç©ºé—´

![image-20210825201025198](D:\BaiduNetdiskWorkspace\LEARN\java\Java_new_learning\src\note.assets\å¤šçº¿ç¨‹å›¾è§£.png)



### 15-2-2 **Runnable**æ¥å£å®ç°å¤šçº¿ç¨‹

```java
//step1:åˆ›å»ºRunnableæ¥å£çš„å®ç°ç±»
public class TestRunnable implements Runnable{
    @Override
    public void run() {//step2:é‡å†™runæ–¹æ³•
        System.out.println(Thread.currentThread().getName() + " :Runnableå¤šçº¿ç¨‹è¿è¡Œçš„ä»£ç ");
        for(int i = 0; i < 5;i++) {
            System.out.println(Thread.currentThread().getName() + " :è¿™æ˜¯Runnableå¤šçº¿ç¨‹çš„é€»è¾‘ä»£ç ï¼š" + i);
        }
    }
}
```

```java
//step3:åˆ›å»ºæ¥å£çš„å®ç°ç±»å¯¹è±¡
//step4:åˆ›å»ºThreadç±»å¯¹è±¡ï¼Œä¼ å‚ç»™å®ç°ç±»å¯¹è±¡
Thread t1 = new Thread(new TestRunnable());
t1.start();

Thread t2 = new Thread(new TestRunnable(), "Thread-1");//çº¿ç¨‹åç§°
t2.start();
```

**ç»§æ‰¿Threadå’Œå®ç°Runnableçš„è”ç³»ä¸åŒºåˆ«**ï¼š

+ ç»§æ‰¿Thread:    çº¿ç¨‹ä»£ç å­˜æ”¾Threadå­ç±»runæ–¹æ³•ä¸­ã€‚é‡å†™runæ–¹æ³•ã€‚

+ å®ç°Runnableï¼šçº¿ç¨‹ä»£ç å­˜åœ¨æ¥å£çš„å­ç±»çš„runæ–¹æ³•ã€‚å®ç°runæ–¹æ³•ã€‚

**å®ç°æ¥å£çš„å¥½å¤„**ï¼š

+ é¿å…äº†**å•ç»§æ‰¿**çš„å±€é™æ€§ã€‚
+ å¢å¼ºäº†ç¨‹åºçš„æ‰©å±•æ€§ï¼Œé™ä½äº†ç¨‹åºçš„è€¦åˆæ€§ï¼ˆè§£è€¦ï¼‰ã€‚
+ å¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«åŒä¸€ä¸ªæ¥å£å®ç°ç±»çš„å¯¹è±¡ã€‚

> ä¸€èˆ¬ä½¿ç”¨å®ç°**æ¥å£**æ–¹å¼æ¥å®ç°å¤šçº¿ç¨‹ã€‚

## 15-3 **Thread**ç±»çš„å¸¸ç”¨æ–¹æ³•

+ **void start():** å¯åŠ¨çº¿ç¨‹ï¼Œå¹¶æ‰§è¡Œå¯¹è±¡çš„run()æ–¹æ³•

```java
Runnable run = new TestRunnable();

Thread t1 = new Thread(run);

t1.start();
```

+ **run():** çº¿ç¨‹åœ¨è¢«è°ƒåº¦æ—¶æ‰§è¡Œçš„æ“ä½œ

```Java
class TestRun implements Runnable{
    int count = 0;
    @Override
    public void run() {
        System.out.println(Thread.currentThread().getName() + " :Runnableå¤šçº¿ç¨‹è¿è¡Œçš„ä»£ç ");
        for(int i = 0; i < 5;i++) {
            count++;
            System.out.println(Thread.currentThread().getName() + " :è¿™æ˜¯Runnableå¤šçº¿ç¨‹çš„é€»è¾‘ä»£ç ï¼š" + count);
        }
    }
}
```

+ `public String getName()`:è¿”å›çº¿ç¨‹çš„åç§°

+ `public void setName(String name)`:è®¾ç½®è¯¥çº¿ç¨‹åç§°

  ```java
  public class TestThread extends Thread{
  
      public TestThread() {}
  	//åˆ›å»ºä¸€ä¸ªå¸¦å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œå‚æ•°ä¼ é€’çº¿ç¨‹çš„åç§°ï¼›
      public TestThread(String name) {
          super(name);//è°ƒç”¨çˆ¶ç±»çš„å¸¦å‚æ„é€ æ–¹æ³•ï¼ŒæŠŠçº¿ç¨‹åç§°ä¼ é€’ç»™çˆ¶ç±»
      }
  
      @Override
      public void run() {
          System.out.println(Thread.currentThread().getName());
      }
  }
  
  ```

+ `public static currentThread()`: è¿”å›å½“å‰çº¿ç¨‹

+ `pubic static void sleep(long millis)`:æš‚åœçº¿ç¨‹

## 15-4 åŒ¿åå†…éƒ¨ç±»å®ç°çº¿ç¨‹çš„æ„å»ºæ–¹å¼

ä½œç”¨ï¼š

+ æŠŠå­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œé‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œåˆ›å»ºå­ç±»å¯¹è±¡åˆæˆä¸€æ­¥å®Œæˆã€‚
+ æŠŠå®ç°ç±»å®ç°æ¥å£ï¼Œé‡å†™æ¥å£ä¸­çš„æ–¹æ³•ï¼Œåˆ›å»ºå®ç°ç±»å¯¹è±¡ä¸€æ­¥å®Œæˆã€‚

ä½¿ç”¨ï¼š

```java
		new Thread() {
            @Override
            public void run() {//é‡å†™runæ–¹æ³•ï¼Œè®¾ç½®çº¿ç¨‹äººç‰©
                for (int i = 0; i < 100; i++) {
                    System.out.println("thread-->" + i);
                }
            }
        }.start();

        new Thread(new Runnable() {
            @Override
            public void run() {//é‡å†™runæ–¹æ³•ï¼Œè®¾ç½®çº¿ç¨‹äººç‰©
                for (int i = 0; i < 100; i++) {
                    System.out.println("Runnable-->" + i);
                }
            }
        }).start();
```

## 15-4 çº¿ç¨‹ä¼˜å…ˆçº§

> çº¿ç¨‹ä¼˜å…ˆçº§å°±æ˜¯å“ªä¸ªçº¿ç¨‹**<u>*è¾ƒå¤§æ¦‚ç‡*</u>**è¢«ä¼˜å…ˆæ‰§è¡Œ
> * ä¼˜å…ˆçº§ç”¨æ•°ç»„1-10è¡¨ç¤ºï¼Œæ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜
> * æ²¡æœ‰è®¾ç½®é»˜è®¤ä¸º5

```java
System.out.println("t1çº¿ç¨‹ä¼˜å…ˆçº§ä¸ºï¼š" + t1.getPriority());
System.out.println("t2çº¿ç¨‹ä¼˜å…ˆçº§ä¸ºï¼š" + t2.getPriority());
```

```java
t1.setPriority(10);
t2.setPriority(1);
```

```java
Thread.yield();//çº¿ç¨‹è®©æ­¥
```

```java
t1.join();//ç›¸å½“äºæŠŠt1çš„runä»£ç æ’å…¥åˆ°è¿™ä¸ªä½ç½®æ‰§è¡Œ
//é˜»å¡mainæ–¹æ³•çš„ç»§ç»­æ‰§è¡Œï¼Œå…ˆæ‰§è¡Œt1.join()æ–¹æ³•
```

```java
Thread.sleep(1000);//çº¿ç¨‹æš‚åœæ‰§è¡Œ1000æ¯«ç§’
```

```java
t1.stop();//å¼ºåˆ¶åœæ­¢
```

```java
t1.isAlive();//åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å­˜æ´»
```

## 15-5 çº¿ç¨‹å®‰å…¨é—®é¢˜

**çº¿ç¨‹å®‰å…¨é—®é¢˜**ï¼šå¤šçº¿ç¨‹è®¿é—®äº†å…±äº«æ•°æ®ï¼Œäº§ç”Ÿçº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚

äº§ç”ŸåŸç†ï¼š

![2021-08-26 094041](C:\Users\16105\Desktop\2021-08-26 094041.jpg)

## 15-6 **çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ**

**äº”ç§çŠ¶æ€**ï¼š

Ã˜**æ–°å»ºï¼š** å½“ä¸€ä¸ª`Thread`ç±»æˆ–å…¶å­ç±»çš„å¯¹è±¡è¢«å£°æ˜å¹¶åˆ›å»ºæ—¶ï¼Œæ–°ç”Ÿçš„çº¿ç¨‹å¯¹è±¡å¤„äºæ–°å»ºçŠ¶æ€

Ã˜**å°±ç»ªï¼š**å¤„äºæ–°å»ºçŠ¶æ€çš„çº¿ç¨‹è¢«`start()`åï¼Œå°†è¿›å…¥çº¿ç¨‹é˜Ÿåˆ—ç­‰å¾…CPUæ—¶é—´ç‰‡ï¼Œæ­¤æ—¶å®ƒå·²å…·å¤‡äº†è¿è¡Œçš„æ¡ä»¶

Ã˜**è¿è¡Œï¼š**å½“å°±ç»ªçš„çº¿ç¨‹è¢«è°ƒåº¦å¹¶è·å¾—å¤„ç†å™¨èµ„æºæ—¶,ä¾¿è¿›å…¥è¿è¡ŒçŠ¶æ€ï¼Œ `run()`æ–¹æ³•å®šä¹‰äº†çº¿ç¨‹çš„æ“ä½œå’ŒåŠŸèƒ½

Ã˜**é˜»å¡ï¼š**åœ¨æŸç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œè¢«<u>äººä¸ºæŒ‚èµ·æˆ–æ‰§è¡Œè¾“å…¥è¾“å‡ºæ“ä½œ</u>æ—¶ï¼Œè®©å‡º CPU å¹¶ä¸´æ—¶ä¸­æ­¢è‡ªå·±çš„æ‰§è¡Œï¼Œè¿›å…¥é˜»å¡çŠ¶æ€

Ã˜**æ­»äº¡ï¼š**çº¿ç¨‹å®Œæˆäº†å®ƒçš„å…¨éƒ¨å·¥ä½œæˆ–çº¿ç¨‹è¢«æå‰å¼ºåˆ¶æ€§åœ°ä¸­æ­¢  





## 15-7 çº¿ç¨‹åŒæ­¥ä¸æ­»é”

+ çº¿ç¨‹èµ„æºå…±äº«æ—¶å­˜åœ¨é—®é¢˜
+ è§£å†³æ€è·¯ï¼šä¸€ä¸ªçº¿ç¨‹æ•´ä½“æ‰§è¡Œå®Œåï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å†æ‰§è¡Œ
+ æ·»åŠ synchronizedå…³é”®å­—
+ æ™®é€šæ–¹æ³•åŠ synchronizedï¼Œé”çš„æ˜¯æ•´ä¸ªå¯¹è±¡ï¼Œä¸æ˜¯æ¯ä¸€ä¸ªæ–¹æ³•
+ ä¸åŒå¯¹è±¡å°±æ˜¯ä¸åŒçš„é”ï¼Œæ™®é€šæ–¹æ³•åŠ synchronizedï¼Œçº¿ç¨‹ä½¿ç”¨ä¸åŒå¯¹è±¡ï¼Œè¿˜æ˜¯æœ‰èµ„æºå…±äº«é—®é¢˜

åŒæ­¥æ–¹æ³•ï¼š

+ åŒæ­¥ä»£ç å—

  **æ ¼å¼**ï¼š`synchronized(é”å¯¹è±¡) {å¯èƒ½å‡ºç°çº¿ç¨‹å®‰å…¨çš„ä»£ç ï¼ˆè®¿é—®äº†å…±äº«æ•°æ®ï¼‰}`

  **æ³¨æ„**ï¼šé€šè¿‡ä»£ç å—ä¸­çš„é”å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ä»»æ„çš„å¯¹è±¡ï¼Œä½†æ˜¯å¿…é¡»ä¿è¯å¤šä¸ªçº¿ç¨‹ä½¿ç”¨çš„é”å¯¹è±¡æ˜¯**åŒä¸€ä¸ª**ã€‚

  é”å¯¹è±¡çš„**ä½œç”¨**ï¼šæŠŠåŒæ­¥ä»£ç å—é”ä½ï¼Œåªè®©ä¸€ä¸ªçº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ä¸­æ‰§è¡Œã€‚

  ```java
  public class RunnableImpl implements Runnable {
      private static int ticket = 100;
  
      //åˆ›å»ºä¸€ä¸ªé”å¯¹è±¡
      Object obj = new Object();
  
      @Override
      public void run() {
          while (true) {
              //åŒæ­¥ä»£ç å—
              synchronized (obj) {
                  if (ticket > 0) {
                      try {
                          Thread.sleep(100);
                      } catch (InterruptedException e) {
                          e.printStackTrace();
                      }
                      System.out.println(Thread.currentThread().getName() + "-->" + ticket);
                      ticket--;
                  }
              }
          }
      }
  }
  ```

  åŒæ­¥é”åŸç†ï¼š

  ![2021-08-26 100600](D:\BaiduNetdiskWorkspace\2021-08-26 100600.jpg)

+ åŒæ­¥æ–¹æ³•

  ä½¿ç”¨æ­¥éª¤ï¼š

  + æŠŠè®¿é—®äº†å…±äº«æ•°æ®çš„ä»£ç æŠ½å–å‡ºæ¥ï¼Œæ”¾åˆ°ä¸€ä¸ªæ–¹æ³•ä¸­ã€‚
  + åœ¨æ–¹æ³•ä¸Šæ·»åŠ Synchronizedä¿®é¥°ç¬¦

  **æ ¼å¼**ï¼š`ä¿®é¥°ç¬¦ synchronizedè¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°åˆ—è¡¨) {å¯èƒ½å‡ºç°çº¿ç¨‹å®‰å…¨çš„ä»£ç ï¼ˆè®¿é—®äº†å…±äº«æ•°æ®ï¼‰}`

  ä½œç”¨ï¼šåŒæ­¥æ–¹æ³•ä¼šæŠŠæ–¹æ³•å†…éƒ¨çš„ä»£ç é”ä½ï¼Œåªè®©ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼ŒåŒæ­¥æ–¹æ³•çš„é”å¯¹è±¡å°±æ˜¯å®ç°ç±»å¯¹è±¡new Runnableå¯¹è±¡ï¼ˆthisï¼‰ã€‚

  ä½¿ç”¨ï¼š

  ```java
  public class RunnableImpl2 implements Runnable {
      private static int ticket = 1000;
  
      @Override
      public void run() {
          while (true) {
              method();
          }
      }
  
      public synchronized void method() {
          if (ticket > 0) {
              try {
                  Thread.sleep(100);
              } catch (InterruptedException e) {
                  e.printStackTrace();
              }
              System.out.println(Thread.currentThread().getName() + "-->" + ticket);
              ticket--;
          } else {
              return;
          }
      }
  }
  ```

+ é™æ€åŒæ­¥æ–¹æ³•

  **æ ¼å¼**ï¼š`ä¿®é¥°ç¬¦ static synchronizedè¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°åˆ—è¡¨) {å¯èƒ½å‡ºç°çº¿ç¨‹å®‰å…¨çš„ä»£ç ï¼ˆè®¿é—®äº†å…±äº«æ•°æ®ï¼‰}`

  é™æ€åŒæ­¥æ–¹æ³•çš„é”å¯¹è±¡æ˜¯æœ¬ç±»çš„classå±æ€§-->classæ–‡ä»¶å¯¹è±¡ã€‚

+ LOCKé”

  Lockæ¥å£ä¸­çš„æ–¹æ³•ï¼š

  + `void lock()`:è·å–é”
  + `void unlock()`:é‡Šæ”¾é”

   ä½¿ç”¨æ­¥éª¤ï¼š

  + 1.åœ¨æˆå‘˜å˜é‡ä½ç½®åˆ›å»ºä¸€ä¸ªReentrantLockå¯¹è±¡
  + 2.åœ¨å¯èƒ½å‡ºç°å®‰å…¨é—®é¢˜çš„ä»£ç å‰è°ƒç”¨Lockæ¥å£ä¸­çš„lock()æ–¹æ³•è·å–é”
  + 2.åœ¨å¯èƒ½å‡ºç°å®‰å…¨é—®é¢˜çš„ä»£ç åè°ƒç”¨Lockæ¥å£ä¸­çš„unlock()æ–¹æ³•é‡Šæ”¾é”

# day_16

## 16-1 çº¿ç¨‹çŠ¶æ€

![](D:\BaiduNetdiskWorkspace\LEARN\java\Java_new_learning\src\note.assets\2021-08-26 115220.jpg)

**ç­‰å¾…å”¤é†’ï¼ˆWaitingï¼‰æœºåˆ¶**

çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼š

Objectç±»ä¸­çš„æ–¹æ³•ï¼š

+ `wait()`ï¼šç­‰å¾…ï¼Œçº¿ç¨‹ä¸å†æ´»åŠ¨ï¼Œä¸å†å‚ä¸è°ƒåº¦ï¼Œè¿›å…¥WAITINGçŠ¶æ€ã€‚
+ `notify()`ï¼šå”¤é†’ä¸€ä¸ªçº¿ç¨‹ã€‚
+ `notifyAll()`ï¼šå”¤é†’æ‰€æœ‰çº¿ç¨‹ã€‚

> æ³¨æ„ï¼š
>
> + waitå’Œnotifyæ–¹æ³•éƒ½å¿…é¡»è¦ç”±åŒä¸€ä¸ªé”å¯¹è±¡è°ƒç”¨ã€‚å› ä¸ºå¯¹åº”çš„é”å¯¹è±¡å¯ä»¥é€šè¿‡notifyå”¤é†’ä½¿ç”¨åŒä¸€ä¸ªé”å¯¹è±¡è°ƒç”¨çš„waitæ–¹æ³•åçš„çº¿ç¨‹ã€‚
> + ä¸¤æ–¹æ³•å‡å±äºObjectç±»ã€‚å› ä¸ºé”å¯¹è±¡æ˜¯ä»»æ„å¯¹è±¡ï¼Œè€Œä»»æ„å¯¹è±¡éƒ½æ˜¯ç»§æ‰¿äº†Objectç±»çš„ã€‚
> + ä¸¤æ–¹æ³•å¿…é¡»åœ¨åŒæ­¥ä»£ç å—å’ŒåŒæ­¥å‡½æ•°ä¸­ä½¿ç”¨ã€‚å› ä¸ºå¿…é¡»é€šè¿‡é”å¯¹è±¡è°ƒç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚

```java
package cn.it.Thread;

import javax.jws.soap.SOAPBinding;

public class WaitAndNotify {
    public static void main(String[] args) {
        //åˆ›å»ºé”å¯¹è±¡ï¼Œä¿è¯å”¯ä¸€
        Object obj = new Object();
        //åˆ›å»ºä¸€ä¸ªæ¶ˆè´¹è€…çº¿ç¨‹
        new Thread() {
            @Override
            public void run() {
                while (true) {
                    //ä¿è¯ç­‰å¾…å’Œå”¤é†’åªèƒ½æ‰§è¡Œä¸€ä¸ªï¼Œéœ€è¦ä½¿ç”¨åŒæ­¥æŠ€æœ¯
                    synchronized (obj) {
                        System.out.println("start!");
                        try {
                            obj.wait();//çº¿ç¨‹è¿›å…¥ç­‰å¾…ï¼Œéœ€è¦å”¤é†’åæ‰èƒ½ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç 
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        }
                        System.out.println("over!");
                        System.out.println("------------------------------------");
                    }
                }
            }
        }.start();
        //åˆ›å»ºä¸€ä¸ªç”Ÿäº§è€…çº¿ç¨‹
        new Thread() {
            @Override
            public void run() {
                while (true) {
                    try {
                        //çº¿ç¨‹è¿›å…¥ä¼‘çœ ï¼Œä¼šè‡ªä¸»å”¤é†’
                        Thread.sleep(10);
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }

                    synchronized (obj) {
                        System.out.println("notify!");
                        obj.notify();//å”¤é†’çº¿ç¨‹
                    }
                }
            }
        }.start();
    }
}
```

## 16-2 çº¿ç¨‹æ± 

> æ¦‚å¿µï¼šçº¿ç¨‹æ± æ˜¯ä¸€ä¸ªå®¹çº³å¤šä¸ªçº¿ç¨‹çš„å®¹å™¨ï¼ˆå³é›†åˆï¼Œæ¯ åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ä¾¿æ·»åŠ åˆ°é›†åˆä¸­ï¼‰ï¼Œå…¶ä¸­çš„çº¿ç¨‹å¯ä»¥åå¤ä½¿ç”¨ï¼Œçœå»äº†é¢‘ç¹åˆ›å»ºçº¿ç¨‹å¯¹è±¡çš„æ“ä½œï¼Œæ— éœ€é‡å¤åˆ›å»ºçº¿ç¨‹è€Œæ¶ˆè€—è¿‡å¤šçš„èµ„æºã€‚

çº¿ç¨‹æ± æ˜¯åœ¨JDK1.5ä¹‹åæå‡ºçš„ã€‚java.util.concurrent.Executors:çº¿ç¨‹æ± çš„å·¥å‚ç±»ï¼Œç”¨æ¥ç”Ÿäº§çº¿ç¨‹æ± ã€‚

Executorsç±»ä¸­çš„é™æ€æ–¹æ³•ï¼š

| `static ExecutorService` | `newFixedThreadPool(int nThreads)`åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œè¯¥çº¿ç¨‹æ± é‡ç”¨å›ºå®šæ•°é‡çš„ä»å…±äº«æ— ç•Œé˜Ÿåˆ—ä¸­è¿è¡Œçš„çº¿ç¨‹ã€‚ |
| ------------------------ | ------------------------------------------------------------ |
| `int nThreads`           | éœ€è¦åˆ›å»ºçš„çº¿ç¨‹æ± æ•°é‡                                         |

java.util.concurrent.ExecutorServiceï¼šçº¿ç¨‹æ± æ¥å£

+ `submit(Runnable task)`ï¼šæäº¤ä¸€ä¸ªå¯è¿è¡Œçš„ä»»åŠ¡æ‰§è¡Œï¼Œå¹¶è¿”å›ä¸€ä¸ªè¡¨ç¤ºè¯¥ä»»åŠ¡çš„æœªæ¥ã€‚

+ ` shutdown()`ï¼šå¯åŠ¨æœ‰åºå…³é—­ï¼Œå…¶ä¸­å…ˆå‰æäº¤çš„ä»»åŠ¡å°†è¢«æ‰§è¡Œï¼Œä½†ä¸ä¼šæ¥å—ä»»ä½•æ–°ä»»åŠ¡ã€‚

å®ç°æ­¥éª¤ï¼š

```java
package cn.it.ThreadPool;

import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class Demo01_ThreadPool {
    public static void main(String[] args) {
        //1ã€åˆ©ç”¨Executorsä¸­çš„é™æ€æ–¹æ³•åˆ›å»ºä¸€ä¸ªå›ºå®šæ•°é‡çš„çº¿ç¨‹æ± 
        ExecutorService es = Executors.newFixedThreadPool(10);
        //2ã€åˆ›å»ºä¸€ä¸ªrunnableæ¥å£çš„å®ç°ç±»ï¼Œé‡å†™runæ–¹æ³•ï¼Œè®¾ç½®çº¿ç¨‹äººç‰©
        Runnable runnable = new Runnable() {
            @Override
            public void run() {
                for (int i = 0; i < 100; i++) {
                    System.out.println(Thread.currentThread().getName());
                    try {
                        Thread.sleep(100);
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }
                }
            }
        };
        //3ã€è°ƒç”¨ExecutorServiceæ¥å£ä¸­çš„æ–¹æ³•submitï¼Œå¼€å§‹runæ–¹æ³•
        es.submit(runnable);
        es.submit(runnable);

        //4ã€æ‰§è¡Œå®Œæ¯•ï¼Œå…³é—­çº¿ç¨‹æ± 
        es.shutdown();
    }
}
```

##  16-3 Lambdaè¡¨è¾¾å¼

**å‡½æ•°å¼ç¼–ç¨‹ä¸­**çš„**å‡½æ•°**å¹¶éƒ¨ç½²æŒ‡è®¡ç®—æœºä¸­çš„å‡½æ•°ï¼Œè€Œæ˜¯æŒ‡æ•°å­¦ä¸­çš„å‡½æ•°ï¼Œå³è‡ªå˜é‡çš„æ˜ å°„ã€‚å‡½æ•°çš„å€¼å–å†³äºå‡½æ•°çš„å‚æ•°çš„å€¼ï¼Œä¸ä¾èµ–äºå…¶ä»–çŠ¶æ€ï¼Œæ¯”å¦‚abs(x)å‡½æ•°è®¡ç®—xçš„ç»å¯¹å€¼ï¼Œåªè¦xä¸å˜ï¼Œæ— è®ºä½•æ—¶è°ƒç”¨ã€è°ƒç”¨æ¬¡æ•°ï¼Œæœ€ç»ˆçš„å€¼éƒ½æ˜¯ä¸€æ ·ã€‚

å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ï¼šåªè¦èƒ½è·å–åˆ°ç»“æœï¼Œè°å»åšçš„ï¼Œæ€ä¹ˆåšçš„ï¼Œéƒ½ä¸é‡è¦ï¼›é‡è§†çš„æ˜¯ç»“æœï¼Œè€Œä¸æ˜¯è¿‡ç¨‹ã€‚

ä¾‹å­ï¼š

ä¼ ç»Ÿå®ç°Runnableæ¥å£çš„æ–¹æ³•ï¼š

```java
public class Test {
    public static void main(String... args) {
        new Thread(new Runnable() {
            @Override
            public void run() {
                System.out.println("hello, world!");
            }
        }).start();
    }
}
```

ä½¿ç”¨**Lambda**è¡¨è¾¾å¼ï¼š

```java
public class Test {
    public static void main(String... args) {
        new Thread( ()->{
             System.out.println("hello, world!");
        }).start();
    }
}
```

### 16-3-1 Lambdaæ ‡å‡†æ ¼å¼

ç»„æˆï¼š

+ ä¸€äº›å‚æ•°
+ ä¸€ä¸ªç®­å¤´
+ ä¸€æ®µä»£ç 

å³ï¼š`(å‚æ•°åˆ—è¡¨) -> {ä¸€äº›é‡å†™æ–¹æ³•çš„ä»£ç }`

æ ¼å¼è¯´æ˜ï¼š

+ ()ï¼šæ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ï¼Œæœ‰å‚æ•°åˆ™å†™å‡ºï¼Œæ²¡æœ‰åˆ™ä¸å†™ã€‚
+ ->ï¼šä¼ é€’ï¼Œå³æŠŠå‚æ•°ä¼ é€’ç»™æ–¹æ³•ä½“{}ã€‚
+ {}ï¼šé‡å†™æ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„æ–¹æ³•ä½“ä»£ç ã€‚

ä¾‹å­ï¼š

Lambdaè¡¨è¾¾å¼çš„ä½¿ç”¨ï¼š**æ— å‚ï¼Œæ— è¿”å›å€¼**ã€‚

```java
public class Demo01_Lambda {
    public static void main(String[] args) {
        invokeCook(() -> {
            System.out.println("åšé¥­ï¼");
        });
    }

    private static void invokeCook(Cook cook) {
        cook.makeFood();
    }
}

interface Cook {
    void makeFood();
}
```

**æœ‰å‚ï¼Œæœ‰è¿”å›å€¼**

```java
Person[] ps = {
                new Person("å¼ é˜¿ä¸‰", 30),
                new Person("å¼ é˜¿å››", 18),
                new Person("å¼ é˜¿äº”", 20),
        };
//å¸¸è§„æ–¹æ³•
        Arrays.sort(ps, new Comparator<Person>() {
            @Override
            public int compare(Person o1, Person o2) {
                return o1.getAge() - o2.getAge();
            }
        });
//ä½¿ç”¨Lambdaè¡¨è¾¾å¼        
        Arrays.sort(ps, 
                (o1, o2)//å‚æ•°åˆ—è¡¨
                        ->
                { return o1.getAge() - o2.getAge(); }//æ–¹æ³•ä½“
        );
```

**çœç•¥è§„åˆ™**ï¼š

+ 1.å°æ‹¬å·å†…çš„å‚æ•°ç±»å‹å¯ä»¥çœç•¥ã€‚
+ 2.å¦‚æœå°æ‹¬å·å†…æœ‰ä¸”ä»…æœ‰**ä¸€ä¸ªå‚æ•°**ï¼Œåˆ™å°æ‹¬å·å¯ä»¥çœç•¥ã€‚

+ 3.å¦‚æœå¤§æ‹¬å·å†…æœ‰ä¸”ä»…æœ‰**ä¸€ä¸ªè¯­å¥**ï¼Œåˆ™æ— è®ºæ˜¯å¦æœ‰è¿”å›å€¼ï¼Œéƒ½å¯ä»¥çœç•¥**å¤§æ‹¬å·ã€returnå…³é”®å­—åŠè¯­å¥åˆ†å·**ã€‚ä½†æ˜¯è¦çœç•¥å°±**å¿…é¡»**ä¸€èµ·çœç•¥ã€‚

**ä½¿ç”¨å‰æ**ï¼š

+ 1.ä½¿ç”¨Lambdaè¡¨è¾¾å¼å¿…é¡»æœ‰æ¥å£ï¼Œä¸”è¦æ±‚æ¥å£ä¸­**æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•**ã€‚
+ 2.ä½¿ç”¨Lambdaè¡¨è¾¾å¼å¿…é¡»å…·æœ‰ä¸Šä¸‹æ–‡ã€‚

**å‡½æ•°å¼æ¥å£**ï¼šæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ã€‚

### 16-3-2 

## 16-4 Propertiesé›†åˆ

+ `java.util.Properties extends Hashtable<K, V> implements Map<K, V>`

+ `Properties`ç±»è¡¨ç¤ºä¸€ç»„æŒä¹…çš„å±æ€§ã€‚ `Properties`å¯ä»¥ä¿å­˜åˆ°æµä¸­æˆ–ä»æµä¸­åŠ è½½ã€‚ å±æ€§åˆ—è¡¨ä¸­çš„æ¯ä¸ªé”®åŠå…¶å¯¹åº”çš„å€¼éƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚
+ keyå’Œvalueéƒ½é»˜è®¤æ˜¯Stringç±»ã€‚

Propertiesé›†åˆæ˜¯**å”¯ä¸€**ä¸€ä¸ªå’ŒIOæµç›¸ç»“åˆçš„é›†åˆã€‚ä¸¤ä¸ªæ–¹æ³•ï¼š

+ `void store(OutputStream out, String comments)`:å­—èŠ‚è¾“å‡ºæµï¼›æŠŠé›†åˆä¸­çš„ä¸´æ—¶æ•°æ®ï¼ŒæŒä¹…åŒ–å†™å…¥ç¡¬ç›˜ã€‚ä¸èƒ½å†™å…¥ä¸­æ–‡ã€‚

+ `void store(Writer writer, String comments)`:å­—ç¬¦è¾“å‡ºæµï¼›æŠŠé›†åˆä¸­çš„ä¸´æ—¶æ•°æ®ï¼ŒæŒä¹…åŒ–å†™å…¥ç¡¬ç›˜ã€‚å¯ä»¥å†™ä¸­æ–‡ã€‚

  > æ³¨æ„ï¼šcommentsä¸­ä¸èƒ½å†™ä¸­æ–‡ï¼Œä¸€èˆ¬ä½¿ç”¨ç©ºå­—ç¬¦ä¸²ã€‚

  ```java
  Properties prop = new Properties();
  prop.setProperty("123", "zzz");
  //...
  FileWriter fw = new FileWriter("D:/Test/a.txt");
  prop.store(fw, "");
  ```

+ `void load(InputStream inStream)`:å­—èŠ‚è¾“å…¥æµï¼Œä¸èƒ½è¯»å–å«æœ‰ä¸­æ–‡çš„è¾“å…¥æµã€‚æŠŠç¡¬ç›˜ä¸­ä¿å­˜çš„æ–‡ä»¶è¯»å–åˆ°é›†åˆä¸­ã€‚

+ `void load(Reader reader)`:å­—ç¬¦è¾“å…¥æµï¼Œ**èƒ½**è¯»å–å«æœ‰ä¸­æ–‡çš„è¾“å…¥æµã€‚æŠŠç¡¬ç›˜ä¸­ä¿å­˜çš„æ–‡ä»¶è¯»å–åˆ°é›†åˆä¸­ã€‚

  > æ³¨æ„ï¼š
  >
  > + å­˜å‚¨é”®å€¼å¯¹çš„æ–‡ä»¶ä¸­ï¼Œé”®å€¼å¯¹é»˜è®¤çš„è¿æ¥ç¬¦å·å¯ä»¥ä½¿ç”¨`=`ã€`ç©ºæ ¼`ã€‚
  > + å­˜å‚¨é”®å€¼å¯¹çš„æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨`#`è¿›è¡Œæ³¨é‡Šï¼Œå°±ä¸ä¼šè¢«è¯»å–ã€‚
  > + å­˜å‚¨é”®å€¼å¯¹çš„æ–‡ä»¶ä¸­ï¼Œé”®å€¼å¯¹é»˜è®¤ä¸ºå­—ç¬¦ä¸²ï¼Œä¸ç”¨åŠ å¼•å·ã€‚

  ```java
  Properties prop = new Properties();
  prop.load(new FileReader("D:/Test/a.txt"));
  Set<String> set = prop.stringPropertyNames();
  for (String s : set) {
      System.out.println(s + "-->" + prop.getProperty(s));
  }
  ```

+ `Object setProperties(String key, String value)`:ç›¸å½“äºè°ƒç”¨Hashtableé›†åˆçš„putæ–¹æ³•ã€‚
+ `String getProperty(String key)`:é€šè¿‡keyæ‰¾åˆ°valueï¼Œç›¸å½“äºMapé›†åˆä¸­çš„get(key)æ–¹æ³•ã€‚
+ `Set<String> stringPropertyNames()`:è¿”å›å±æ€§åˆ—è¡¨çš„ç»ƒé›†ï¼Œç›¸å½“äºMapé›†åˆä¸­çš„keySet()æ–¹æ³•ã€‚

## 16-5 ç½‘ç»œç¼–ç¨‹å…¥é—¨

è½¯ä»¶æ¶æ„ï¼š

+ **C/S**: Client/Server å®¢æˆ·ç«¯/æœåŠ¡å™¨ç«¯

  + åœ¨ç”¨æˆ·æœ¬åœ°æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯ç¨‹åºï¼Œåœ¨è¿œç¨‹æœ‰ä¸€ä¸ªæœåŠ¡å™¨ç«¯ç¨‹åº

  ä¼˜ç‚¹ï¼š

  + ç”¨æˆ·ä½“éªŒå¥½

  ç¼ºç‚¹ï¼š

  + å¼€å‘ã€å®‰è£…ã€éƒ¨ç½²ã€ç»´æŠ¤éº»çƒ¦

+ **B/S**ï¼šBrowser/Server æµè§ˆå™¨/æœåŠ¡å™¨

  + åªéœ€è¦ä¸€ä¸ªæµè§ˆå™¨ï¼Œç”¨æˆ·é€šè¿‡ä¸åŒçš„URLå¯ä»¥è®¿é—®ä¸åŒçš„æœåŠ¡å™¨ç¨‹åºã€‚

  ä¼˜ç‚¹ï¼š

  + å¼€å‘ã€å®‰è£…ã€éƒ¨ç½²ã€ç»´æŠ¤ç®€å•

  ç¼ºç‚¹ï¼š

  + å¦‚æœåº”ç”¨è¿‡å¤§ï¼Œç”¨æˆ·ä½“éªŒå°†å—åˆ°å½±å“ã€‚
  + å¯¹ç¡¬ä»¶è¦æ±‚è¾ƒé«˜

**B/Sæ¶æ„è¯¦è§£**

èµ„æºåˆ†ç±»ï¼š

+ é™æ€èµ„æº
  + ä½¿ç”¨é™æ€ç½‘é¡µå¼€å‘è®¡ç®—å‘å¸ƒçš„èµ„æº
  + ç‰¹ç‚¹ï¼š
    + æ‰€æœ‰ç”¨æˆ·è®¿é—®ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„
    + å¦‚ï¼šæ–‡æœ¬ï¼Œå›¾ç‰‡ï¼ŒéŸ³é¢‘ï¼Œè§†é¢‘ï¼Œ`HTML`ï¼Œ`CSS`ï¼Œ`JavaScript`
    + å¦‚æœç”¨æˆ·è¯·æ±‚çš„æ˜¯é™æ€èµ„æºï¼Œé‚£ä¹ˆæœåŠ¡å™¨ä¼šç›´æ¥å°†é™æ€èµ„æºå‘é€ç»™æµè§ˆå™¨ã€‚æµè§ˆå™¨å†…ç½®äº†é™æ€èµ„æºçš„è§£æå¼•æ“ï¼Œå¯ä»¥å±•ç¤ºé™æ€èµ„æºã€‚
+ åŠ¨æ€èµ„æº
  + ä½¿ç”¨åŠ¨æ€ç½‘é¡µåŠæ—¶å‘å¸ƒçš„èµ„æº
  + ç‰¹ç‚¹ï¼š
    + æ‰€æœ‰ç”¨æˆ·è®¿é—®å¾—åˆ°çš„ç»“æœå¯èƒ½ä¸ä¸€æ ·ã€‚
    + å¦‚ï¼šjsp/servlet,php,asp...
    + å¦‚æœç”¨æˆ·è¯·æ±‚çš„æ˜¯åŠ¨æ€èµ„æºï¼Œé‚£ä¹ˆæœåŠ¡å™¨ä¼šæ‰§è¡ŒåŠ¨æ€èµ„æºï¼Œè½¬æ¢ä¸ºé™æ€èµ„æºï¼Œå†å‘é€ç»™æµè§ˆå™¨ã€‚

**ç½‘ç»œç¼–ç¨‹**å°±æ˜¯åœ¨ä¸€å®šçš„åè®®ä¸‹ï¼Œå®ç°ä¸¤å°è®¡ç®—æœºçš„é€šä¿¡çš„ç¨‹åºã€‚

### 16-5-1 ç½‘ç»œé€šä¿¡åè®®

+ **ç½‘ç»œé€šä¿¡åè®®**æ˜¯ä¸€ç§ç½‘ç»œé€šç”¨è¯­è¨€ï¼Œä¸ºè¿æ¥ä¸åŒæ“ä½œç³»ç»Ÿå’Œä¸åŒç¡¬ä»¶ä½“ç³»ç»“æ„çš„äº’è”ç½‘ç»œå¼•æä¾›é€šä¿¡æ”¯æŒï¼Œæ˜¯ä¸€ç§ç½‘ç»œé€šç”¨è¯­è¨€ã€‚ ä¾‹å¦‚ï¼Œç½‘ç»œä¸­ä¸€ä¸ªå¾®æœºç”¨æˆ·å’Œä¸€ä¸ªå¤§å‹ä¸»æœºçš„æ“ä½œå‘˜è¿›è¡Œé€šä¿¡ï¼Œç”±äºè¿™ä¸¤ä¸ªæ•°æ®ç»ˆç«¯æ‰€ç”¨å­—ç¬¦é›†ä¸åŒï¼Œå› æ­¤æ“ä½œå‘˜æ‰€è¾“å…¥çš„å‘½ä»¤å½¼æ­¤ä¸è®¤è¯†ã€‚

- **TCP**ï¼šTCPï¼ˆè‹±è¯­ï¼šTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰ æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®®ï¼ŒTCP å±‚æ˜¯ä½äº IP å±‚ä¹‹ä¸Šï¼Œåº”ç”¨å±‚ä¹‹ä¸‹çš„ä¸­é—´å±‚ã€‚TCP ä¿éšœäº†ä¸¤ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´çš„å¯é é€šä¿¡ã€‚é€šå¸¸ç”¨äºäº’è”ç½‘åè®®ï¼Œè¢«ç§° TCP / IPã€‚

- **UDP**ï¼šUDP ï¼ˆè‹±è¯­ï¼šUser Datagram Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰ï¼Œä½äº OSI æ¨¡å‹çš„ä¼ è¾“å±‚ã€‚ä¸€ä¸ªæ— è¿æ¥çš„åè®®ã€‚æä¾›äº†åº”ç”¨ç¨‹åºä¹‹é—´è¦å‘é€æ•°æ®çš„æ•°æ®æŠ¥ã€‚ç”±äºUDPç¼ºä¹å¯é æ€§ä¸”å±äºæ— è¿æ¥åè®®ï¼Œæ‰€ä»¥åº”ç”¨ç¨‹åºé€šå¸¸å¿…é¡»å®¹è®¸ä¸€äº›**ä¸¢å¤±ã€é”™è¯¯æˆ–é‡å¤**çš„æ•°æ®åŒ…ã€‚

â€œ**ä¸‰æ¬¡æ¡æ‰‹**â€ï¼šä¸ºäº†å¯¹æ¯æ¬¡å‘é€çš„æ•°æ®é‡è¿›è¡Œè·Ÿè¸ªä¸ åå•† ï¼Œç¡®ä¿æ•°æ®æ®µçš„å‘é€å’Œæ¥æ”¶åŒæ­¥ï¼Œæ ¹æ®æ‰€æ¥æ”¶åˆ°çš„æ•°æ®é‡è€Œç¡®è®¤æ•°æ®å‘é€ã€æ¥æ”¶å®Œæ¯•åä½•æ—¶ æ’¤æ¶ˆ è”ç³»ï¼Œå¹¶å»ºç«‹è™šè¿æ¥ã€‚

### 16-5-2 ç½‘ç»œç¼–ç¨‹ä¸‰è¦ç´ 

**åè®®**

è§ä¸Šã€‚

**IPåœ°å€**

**äº’è”ç½‘åè®®åœ°å€**ï¼Œåˆè¯‘ä¸ºç½‘é™…åè®®åœ°å€ã€‚ IPåœ°å€æ˜¯IPåè®®æä¾›çš„ä¸€ç§ç»Ÿä¸€çš„åœ°å€æ ¼å¼ ï¼Œå®ƒä¸ºäº’è”ç½‘ä¸Šçš„æ¯ä¸€ä¸ªç½‘ç»œå’Œæ¯ä¸€å°ä¸»æœºåˆ†é…ä¸€ä¸ªé€»è¾‘åœ°å€ ï¼Œä»¥æ­¤æ¥å±è”½ç‰©ç†åœ°å€çš„å·®å¼‚ã€‚IPåœ°å€ä¸ºç½‘ç»œä¸­çš„è®¡ç®—æœºè®¾å¤‡åšå”¯ä¸€çš„ç¼–å·ã€‚

+ IPv4ï¼š32ä½äºŒè¿›åˆ¶æ•°ï¼Œé€šå¸¸è¢«åˆ†ä¸º4ä¸ªå­—æ®µï¼Œæ¯ä¸ªå­—æ®µä¸º0~255ï¼Œç”¨`.`éš”å¼€ï¼›
+ Ipv6ï¼š128ä½äºŒè¿›åˆ¶æ•°ï¼Œèƒ½è¡¨ç¤ºæ›´å¤šä¿¡æ¯ã€‚

+ å¸¸ç”¨å‘½ä»¤
  + **æŸ¥çœ‹æœ¬æœºçš„ipåœ°å€**ï¼Œåœ¨æ§åˆ¶å°è¾“å…¥`ipconfig`
  + **æ£€æŸ¥ç½‘ç»œæ˜¯å¦è¿é€š**ï¼Œåœ¨æ§åˆ¶å°è¾“å…¥`ping ipåœ°å€`

+ ç‰¹æ®Šipåœ°å€ï¼š`127.0.0.1`(æœ¬åœ°æœº)ã€`localhost`(è¿™å°è®¡ç®—æœº)

**ç«¯å£å·**

ç«¯å£å·æ˜¯ä¸€ä¸ª**é€»è¾‘**ç«¯å£ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥çœ‹åˆ°ï¼Œå¯ä»¥ä½¿ç”¨ä¸€äº›è½¯ä»¶æŸ¥çœ‹ç«¯å£å·ã€‚å½“æˆ‘ä»¬ä½¿ç”¨çš„ç½‘ç»œè½¯ä»¶ä¸€æ‰“å¼€ï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿå°±ä¼šä¸ºç½‘ç»œè½¯ä»¶åˆ†é…ä¸€ä¸ªéšæœºçš„ç«¯å£å·ï¼Œæˆ–è€…ç½‘ç»œè½¯ä»¶åœ¨æ‰“å¼€æ—¶å’Œç³»ç»Ÿè¦æŒ‡å®šçš„ç«¯å£å·ã€‚

ç«¯å£å·ç”±ä¸¤ä¸ªå­—èŠ‚ç»„æˆï¼Œå–å€¼èŒƒå›´åœ¨**0~65535**ä¹‹é—´ã€‚

> æ³¨æ„ï¼š
>
> + **1024**ä¹‹å‰çš„ç«¯å£å·ä¸èƒ½ä½¿ç”¨ï¼Œå› ä¸ºå…¶å·²ç»è¢«åˆ†é…ç»™å·²çŸ¥çš„ç½‘ç»œè½¯ä»¶äº†ã€‚
> + ç½‘ç»œè½¯ä»¶çš„ç«¯å£å·**ä¸èƒ½é‡å¤**ã€‚

è®¡ç®—æœºé€šè¿‡ç½‘ç»œå¯ä»¥è¿æ¥åˆ°ä¸€èµ·è¿›è¡Œé€šä¿¡ï¼Œæˆ‘ä»¬é€šè¿‡ipåœ°å€å°±å¯ä»¥æ‰¾åˆ°å¯¹æ–¹çš„è®¡ç®—æœºï¼Œé€šè¿‡**ipåœ°å€+ç«¯å£å·**å°±å¯ä»¥å‡†ç¡®æ— è¯¯åœ°å‘é€åˆ°å¯¹æ–¹è®¡ç®—æœº*æŒ‡å®šçš„è½¯ä»¶*äº†ã€‚

**å¸¸ç”¨çš„ç«¯å£å·**ï¼š

+ 1.**80ç«¯å£å·** ç½‘ç»œç«¯å£ 
+ 2.**æ•°æ®åº“**  mysql:3306   oracle:1521
+ 3.**TomcatæœåŠ¡å™¨**ï¼š8080

## 16-6 TCPé€šä¿¡ç¨‹åº

**æ¦‚è¿°**ï¼šTCPé€šä¿¡æ—¶é¢å‘è¿æ¥çš„é€šä¿¡ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å¿…é¡»é€šè¿‡3æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹é€»è¾‘è¿æ¥ï¼Œæ‰èƒ½é€šä¿¡å®‰å…¨ã€‚

é€šä¿¡æ­¥éª¤ï¼š

+ æœåŠ¡å™¨ç«¯å…ˆå¯åŠ¨ï¼›
+ æœåŠ¡å™¨ç«¯ä¸ä¼šä¸»åŠ¨è¯·æ±‚å®¢æˆ·ç«¯ï¼Œå¿…é¡»ä½¿ç”¨å®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡å™¨ç«¯ï¼›
+ å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å°±ä¼šå»ºç«‹ä¸€ä¸ªé€»è¾‘è¿æ¥ï¼Œè€Œè¿™ä¸ªè¿æ¥ä¸­åŒ…å«ä¸€ä¸ªå¯¹è±¡--**IOå¯¹è±¡**ï¼›
+ å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯æ—¶æœ‰IOå¯¹è±¡è¿›è¡Œé€šä¿¡ï¼Œé€šä¿¡çš„å¯¹è±¡ä¸ä»…ä»…æ˜¯å­—ç¬¦ï¼Œæ‰€ä»¥IOå¯¹è±¡æ˜¯**å­—èŠ‚æµå¯¹è±¡**ã€‚

å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è¿›è¡Œä¸€ä¸ªæ•°æ®äº¤äº’éœ€è¦4ä¸ªIOæµå¯¹è±¡ã€‚

![TCP](D:\BaiduNetdiskWorkspace\LEARN\java\Java_new_learning\src\note.assets\2021-08-26 115220.jpg)

### 16-6-1 å®¢æˆ·ç«¯

TCPé€šä¿¡çš„**å®¢æˆ·ç«¯**ï¼šå‘æœåŠ¡å™¨å‘é€è¿æ¥è¯·æ±‚ï¼Œç»™æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œè¯»å–æœåŠ¡å™¨å›å†™çš„æ•°æ®ã€‚

è¡¨ç¤ºå®¢æˆ·ç«¯çš„ç±»ï¼š

+ java.net.Socketï¼šæ­¤ç±»å®ç°å®¢æˆ·ç«¯**å¥—æ¥å­—**ã€‚
+ **å¥—æ¥å­—**ï¼šåŒ…å«äº†IPåœ°å€å’Œç«¯å£å·çš„ç½‘ç»œå•ä½ã€‚å¥—æ¥å­—æ˜¯ä¸¤å°æœºå™¨é—´é€šä¿¡çš„ç«¯ç‚¹ã€‚

**æ„é€ æ–¹æ³•**ï¼š

+ `Socket(String host, int port)`åˆ›å»ºæµå¥—æ¥å­—å¹¶å°†å…¶è¿æ¥åˆ°æŒ‡å®šä¸»æœºä¸Šçš„æŒ‡å®šç«¯å£å·ã€‚
  + hostï¼šæœåŠ¡å™¨ç«¯ä¸»æœºçš„åç§°/ipåœ°å€ï¼›
  + portï¼šæœåŠ¡å™¨ç«¯çš„ç«¯å£å·ï¼›

**æˆå‘˜æ–¹æ³•**ï¼š

| è¿”å›å€¼ç±»å‹     | æ–¹æ³•ååŠç”¨æ³•                              |
| -------------- | ----------------------------------------- |
| `InputStream`  | `getInputStream()`è¿”å›æ­¤å¥—æ¥å­—çš„è¾“å…¥æµã€‚  |
| `OutputStream` | `getOutputStream()`è¿”å›æ­¤å¥—æ¥å­—çš„è¾“å‡ºæµã€‚ |
| `void`         | `close()`å…³é—­æ­¤å¥—æ¥å­—ã€‚                   |

å®ç°æ­¥éª¤ï¼š

```java
public static void main(String[] args) {
        try {
            //1.åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯å¯¹è±¡Socketï¼Œç»‘å®šhostå’Œport
            Socket soc = new Socket("127.0.0.1", 8888);
            //2.ä½¿ç”¨Socketå¯¹è±¡ä¸­çš„æ–¹æ³•getOutputStreamè·å–ç½‘ç»œå­—èŠ‚è¾“å‡ºæµOutputStreamå¯¹è±¡
            OutputStream outputStream = soc.getOutputStream();
            //3.ä½¿ç”¨ç½‘ç»œå­—èŠ‚è¾“å‡ºæµOutputStreamå¯¹è±¡çš„writeæ–¹æ³•å‘æœåŠ¡å™¨ç«¯å‘é€æ•°æ®
            outputStream.write("Hello, World!".getBytes());
            //4.ä½¿ç”¨Socketå¯¹è±¡ä¸­çš„æ–¹æ³•getInputStreamè·å–ç½‘ç»œå­—èŠ‚è¾“å…¥æµInputStreamå¯¹è±¡
            InputStream inputStream = soc.getInputStream();
            //5.ä½¿ç”¨ç½‘ç»œå­—èŠ‚è¾“å…¥æµInputStreamå¯¹è±¡çš„readæ–¹æ³•è¯»å–æœåŠ¡å™¨ç«¯å›å†™çš„æ•°æ®
            byte[] bytes = new byte[1024];
            int len = inputStream.read(bytes);
            System.out.println(new String(bytes, 0, len));
            //6.é‡Šæ”¾Socketå¯¹è±¡
            soc.close();
        } catch (IOException e) {
            e.printStackTrace();
        }

    }
```

### 16-6-2 æœåŠ¡å™¨ç«¯

TCPé€šä¿¡çš„**æœåŠ¡å™¨ç«¯**ï¼šæ¥å—å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œè¯»å–å®¢æˆ·ç«¯å‘é€çš„æ•°æ®ï¼Œç»™å®¢æˆ·ç«¯å›å†™æ•°æ®ã€‚

è¡¨ç¤ºæœåŠ¡å™¨çš„ç±»ï¼š

+ java.net.ServerSocketï¼šå®ç°äº†æœåŠ¡å™¨å¥—æ¥å­—ã€‚

**æ„é€ æ–¹æ³•**ï¼š

`ServerSocket(int port)`åˆ›å»ºç»‘å®šåˆ°æŒ‡å®š**ç«¯å£**çš„æœåŠ¡å™¨å¥—æ¥å­—ã€‚

æˆå‘˜æ–¹æ³•ï¼š

| `Socket` | `accept()`ä¾¦å¬è¦è¿æ¥åˆ°æ­¤å¥—æ¥å­—å¹¶æ¥å—å®ƒã€‚ |
| -------- | ---------------------------------------- |

å®ç°æ­¥éª¤ï¼š

```java
public static void main(String[] args) {
    try {
        //1.åˆ›å»ºæœåŠ¡å™¨ServerSocketå¯¹è±¡å’Œç³»ç»Ÿè¦æŒ‡å®šçš„ç«¯å£å·port
        ServerSocket serverSocket = new ServerSocket(8888);
        //2.ä½¿ç”¨ServerSocketå¯¹è±¡ä¸­çš„æ–¹æ³•acceptï¼Œè·å–è¯·æ±‚åˆ°çš„å®¢æˆ·ç«¯å¯¹è±¡Socket
        Socket socket = serverSocket.accept();
        //3.ä½¿ç”¨Socketå¯¹è±¡ä¸­çš„æ–¹æ³•getInputStreamè·å–ç½‘ç»œå­—èŠ‚è¾“å…¥æµInputStreamå¯¹è±¡
        InputStream inputStream = socket.getInputStream();
        //4.ä½¿ç”¨ç½‘ç»œå­—èŠ‚è¾“å…¥æµInputStreamå¯¹è±¡çš„readæ–¹æ³•è¯»å–å®¢æˆ·ç«¯å‘é€çš„æ•°æ®
        byte[] bytes = new byte[1024];
        int len = inputStream.read(bytes);
        System.out.println(new String(bytes, 0, len));
        //5.ä½¿ç”¨Socketå¯¹è±¡ä¸­çš„æ–¹æ³•getOutputStreamè·å–ç½‘ç»œå­—èŠ‚è¾“å‡ºæµOutputStreamå¯¹è±¡
        OutputStream outputStream = socket.getOutputStream();
        //6.ä½¿ç”¨ç½‘ç»œå­—èŠ‚è¾“å‡ºæµOutputStreamå¯¹è±¡çš„writeæ–¹æ³•å‘å®¢æˆ·ç«¯å›å†™æ•°æ®
        outputStream.write("Copy!".getBytes());
        //7.é‡Šæ”¾Socket, ServerSocketèµ„æº
        socket.close();
        serverSocket.close();
    } catch (IOException e) {
        e.printStackTrace();
    }
}
```

## 16-7 ç»¼åˆæ¡ˆä¾‹

### 16-7-1 æ–‡ä»¶ä¸Šä¼ æ¡ˆä¾‹

TCPé€šä¿¡ä¸Šä¼ æ–‡ä»¶**åŸç†**ï¼šå®¢æˆ·ç«¯è¯»å–æœ¬åœ°æ–‡ä»¶ï¼ŒæŠŠæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ç«¯ï¼ŒæœåŠ¡å™¨åœ¨æŠŠä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åˆ°æœåŠ¡å™¨çš„ç¡¬ç›˜ä¸Šã€‚å®é™…ä¸Šå°±æ˜¯æ–‡ä»¶çš„å¤åˆ¶ã€‚

ä½¿ç”¨æ­¥éª¤ï¼š

```java

```

æ³¨æ„ï¼š

+ æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä½¿ç”¨**æœ¬åœ°ç¡¬ç›˜**è¿›è¡Œè¯»å–ï¼Œéœ€è¦ä½¿ç”¨è‡ªå·±åˆ›å»ºçš„å­—èŠ‚æµï¼ˆ**æœ¬åœ°æµ**ï¼‰å¯¹è±¡ã€‚
+ æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯è¿›è¡Œè¯»å†™ï¼Œä½¿ç”¨Socketå¯¹è±¡æä¾›çš„ç½‘ç»œå­—èŠ‚æµå¯¹è±¡ï¼ˆ**ç½‘ç»œæµ**ï¼‰ã€‚

æ˜ç¡®ï¼šæ•°æ®æº+ç›®çš„åœ°

**å‡ºç°é—®é¢˜**ï¼šinputStream.read(bytes))è¯»å–ä¸åˆ°æ–‡ä»¶çš„ç»“æŸæ ‡è®°ï¼Œreadè¿›å…¥**é˜»å¡**çŠ¶æ€ï¼Œä¸€ç›´åˆ°æ­»å¾ªç¯ç­‰å¾…ç»“æŸæ ‡è®°ï¼Œä½¿ä»£ç ä¸èƒ½åœæ­¢ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šä¸Šä¼ å®Œæ–‡ä»¶ï¼Œç»™æœåŠ¡å™¨å†™ä¸€ä¸ªç»“æŸæ ‡è®°ã€‚



